<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Project Connect</title>
    <style>
      * {
        margin: 0;
        color: #d3d3d3;
        font-family: monospace;
        overflow: hidden;
      }
      #gameStage {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        position: absolute;
        left: 0;
        background: radial-gradient(lightblue, black);
      }
      body h1 {
        z-index: 1;
        position: absolute;
        width: 100%;
        background: #212121;
        padding-top: 10px;
      }
      .screen-state {
        padding-top: 10%;
        display: none;
        width: 100%;
        height: 100%;
        position: absolute;
        background: #212121;
        text-align: center;
      }
      .screen-state.is-active {
        display: block;
        z-index: 2;
      }
      .screen-content {
        margin-bottom: 10px;
        font-size: 18px;
      }
      #retryScreen .screen-content {
        margin-bottom: 2%;
        font-size: 40px;
      }
      .retry-icon {
        padding-top: 60px;
        height: 100px;
      }
      .screen-game-cta {
        font-size: 14px;
        padding: 7px 5px;
        border-radius: 5px;
        background-color: #d3d3d3;
        color: #000;
        width: 200px;
        transition: all 0.3s;
        margin: 25px auto;
        font-size: 20px;
        display: inline-block;
      }
      .cta-container {
        opacity: 0;
        transition: opacity 0.5s ease-out;
        transition-delay: 2s;
      }
      .screen-state.is-active .cta-container {
        opacity: 1;
      }
      .screen-game-cta:hover {
        background-color: yellow;
      }
      .screen-game-cta.negative:hover {
        background-color: #f00;
      }
      .screen-game-cta:active {
        background-color: #0f0;
      }
      .screen-game-cta.negative:active {
        background-color: yellow;
      }
      .dope-logo {
        font-family: sans-serif impact;
        font-size: 30px;
        padding-bottom: 5%;
      }
      .dope-logo img {
        height: 35px;
      }
      .dope-logo img,
      .dope-logo p {
        display: inline-block;
      }
      .controls-tut {
        color: yellow;
        padding-bottom: 8px;
      }
      #hud {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        z-index: 1;
        font-size: 20px;
        width: 100%;
        height: 100px;
        border-bottom: 2px solid grey;
        display: flex;
      }
      .hud-group {
        flex: 1;
        justify-content: center;
        padding: 16px;
      }
      #currentLevel.hud-group {
        flex: 2;
        text-align: center;
      }
      #battery {
        text-align: right;
      }
      #battery div {
        float: right;
      }
      .battery-icon {
        height: 60px;
      }
      .battery-icon img {
        height: 100%;
      }
      .battery-percent {
        padding-top: 35px;
      }
      .battery-bar {
        height: 10px;
        border: 2px solid #d3d3d3;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }
      #batteryBar {
        float: none;
        position: absolute;
        top: 30px;
        right: 60px;
      }
      #batteryBarInner {
        height: 100%;
      }
      .healthy {
        background-color: #0f0;
      }
      .not-so-great {
        background-color: #ffd400;
      }
      .critical {
        background-color: #f00;
      }
      #powerups-container div {
        display: inline-block;
      }
      #powerups-container img {
        height: 25px;
        display: inline-block;
      }
      .big-win {
        font-size: 50px;
        padding-bottom: 20px;
      }
      .win-wifi {
        width: 100px;
        padding-bottom: 20px;
      }
      .subhead {
        font-size: 30px;
        padding-bottom: 20px;
      }
    </style>
  </head>
  <body>
    <div id="game-assets" style="display: none">
      <img
        id="battery-pickup"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20width%3D'100'%20height%3D'100'%20viewBox%3D'0%200%20471.829%20471.829'%3E%3Cpath%20fill%3D'%230f0'%20stroke%3D'%230f0'%20d%3D'M264.161%20313.448h37.625l-79.061%2065.449-54.565-65.449h37.922l21.978-64.429h-46.515l46.284-128.868h52.633l-30.178%2087.117h49.236l-35.359%20106.18zm95.76-245.396v362.946c0%2022.51-18.308%2040.83-40.832%2040.83H152.737c-22.522%200-40.829-18.32-40.829-40.83V68.052c0-22.514%2018.312-40.832%2040.829-40.832h34.607V0h95.27v27.221h36.475c22.524%200%2040.832%2018.317%2040.832%2040.831zm-27.216%200c0-7.501-6.108-13.611-13.62-13.611H152.737c-7.508%200-13.615%206.109-13.615%2013.611v362.946c0%207.499%206.107%2013.611%2013.615%2013.611h166.352c7.508%200%2013.616-6.106%2013.616-13.611V68.052z'%2F%3E%3C%2Fsvg%3E%0A"
      /><img
        id="ethernet-port"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20width%3D'100'%20height%3D'100'%20viewBox%3D'0%200%20512%20512'%3E%3Cpath%20fill%3D'%23d1d4d1'%20d%3D'M53.332%200h405.336c29.252%200%2052.966%2023.713%2052.966%2052.966v406.069c0%2029.252-23.713%2052.966-52.966%2052.966H53.332c-29.252%200-52.966-23.713-52.966-52.966V52.966C.366%2023.713%2024.08%200%2053.332%200z'%2F%3E%3Cpath%20fill%3D'%2335495e'%20d%3D'M450.202%2079.448V291.31c0%204.875-3.952%208.828-8.828%208.828h-35.31c-4.875%200-8.828%203.952-8.828%208.828v35.31c0%204.875-3.952%208.828-8.828%208.828h-26.483c-4.875%200-8.828%203.952-8.828%208.828v44.138c0%204.875-3.952%208.828-8.828%208.828H167.72c-4.875%200-8.828-3.952-8.828-8.828v-44.138c0-4.875-3.952-8.828-8.828-8.828h-26.483c-4.875%200-8.828-3.952-8.828-8.828v-35.31c0-4.875-3.952-8.828-8.828-8.828h-35.31c-4.875%200-8.828-3.952-8.828-8.828V79.448c0-4.875%203.952-8.828%208.828-8.828h370.759c4.876.001%208.828%203.953%208.828%208.828z'%2F%3E%3Cg%20fill%3D'%23e4c05c'%3E%3Cpath%20d%3D'M97.099%20105.931h35.31v70.621h-35.31zM167.72%20105.931h35.31v70.621h-35.31zM238.34%20105.931h35.31v70.621h-35.31zM308.961%20105.931h35.31v70.621h-35.31zM379.582%20105.931h35.31v70.621h-35.31z'%2F%3E%3C%2Fg%3E%3Cpath%20fill%3D'%234fba6f'%20d%3D'M52.961%20414.897h70.621v44.138H52.961z'%2F%3E%3Cpath%20fill%3D'%23f29c1f'%20d%3D'M388.409%20414.897h70.621v44.138h-70.621z'%2F%3E%3C%2Fsvg%3E%0A"
      /><img
        id="ethernet"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20width%3D'100'%20height%3D'100'%20viewBox%3D'0%200%20512%20512'%3E%3Cpath%20fill%3D'%234fa7ff'%20d%3D'M299.39%20329.763h-86.78l-34.712-112.814V104.136h156.204v112.813z'%2F%3E%3Cg%20fill%3D'%238ac0f7'%3E%3Cpath%20d%3D'M238.644%20503.326h34.712v-173.56h-34.712zM212.61%20104.136c0%2023.969%2019.421%2043.39%2043.39%2043.39s43.39-19.421%2043.39-43.39h-86.78z'%2F%3E%3C%2Fg%3E%3Cpath%20fill%3D'%23bdc3c7'%20d%3D'M221.288%200v69.424h17.356v34.712h34.712V69.424h17.356V0z'%2F%3E%3Cg%20fill%3D'%23ecf0f1'%3E%3Cpath%20d%3D'M221.288%2069.424V8.678h-34.712v95.458h52.068V69.424zM290.712%208.678v60.746h-17.356v34.712h52.068V8.678z'%2F%3E%3C%2Fg%3E%3Cg%20fill%3D'%238ac0f7'%3E%3Cpath%20d%3D'M229.966%20303.729h-28.03c-4.799%200-8.678-3.879-8.678-8.678s3.879-8.678%208.678-8.678h28.03c4.799%200%208.678%203.879%208.678%208.678s-3.879%208.678-8.678%208.678M310.068%20303.729h-28.03c-4.799%200-8.678-3.879-8.678-8.678s3.879-8.678%208.678-8.678h28.03c4.799%200%208.678%203.879%208.678%208.678s-3.879%208.678-8.678%208.678M229.966%20269.017h-38.721c-4.799%200-8.678-3.879-8.678-8.678s3.879-8.678%208.678-8.678h38.721c4.799%200%208.678%203.879%208.678%208.678s-3.879%208.678-8.678%208.678M320.754%20269.017h-38.721c-4.799%200-8.678-3.879-8.678-8.678s3.879-8.678%208.678-8.678h38.721c4.799%200%208.678%203.879%208.678%208.678s-3.879%208.678-8.678%208.678M229.966%20234.305h-49.395c-4.799%200-8.678-3.879-8.678-8.678%200-4.799%203.879-8.678%208.678-8.678h49.395c4.799%200%208.678%203.879%208.678%208.678%200%204.799-3.879%208.678-8.678%208.678M331.432%20234.305h-49.395c-4.799%200-8.678-3.879-8.678-8.678%200-4.799%203.879-8.678%208.678-8.678h49.395c4.799%200%208.678%203.879%208.678%208.678%200%204.799-3.879%208.678-8.678%208.678M229.966%20199.593h-52.068c-4.799%200-8.678-3.879-8.678-8.678s3.879-8.678%208.678-8.678h52.068c4.799%200%208.678%203.879%208.678%208.678s-3.879%208.678-8.678%208.678M334.102%20199.593h-52.068c-4.799%200-8.678-3.879-8.678-8.678s3.879-8.678%208.678-8.678h52.068c4.799%200%208.678%203.879%208.678%208.678s-3.879%208.678-8.678%208.678'%2F%3E%3C%2Fg%3E%3Cpath%20fill%3D'%234fa7ff'%20d%3D'M394.847%20512H117.153c-4.799%200-8.678-3.879-8.678-8.678%200-4.799%203.879-8.678%208.678-8.678h277.695c4.799%200%208.678%203.879%208.678%208.678-.001%204.799-3.88%208.678-8.679%208.678'%2F%3E%3C%2Fsvg%3E%0A"
      /><img
        id="nowifi"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20id%3D'Layer_1'%20data-name%3D'Layer%201'%20width%3D'96'%20height%3D'96'%20viewBox%3D'0%200%2096%2096'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23d3d3d3%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A3px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ccircle%20cx%3D'48'%20cy%3D'48'%20r%3D'40'%20class%3D'cls-1'%2F%3E%3Cpath%20d%3D'M42%2057.89a8.47%208.47%200%200%201%2012%200'%20class%3D'cls-1'%2F%3E%3Ccircle%20cx%3D'48'%20cy%3D'64.38'%20r%3D'2.62'%20fill%3D'%23d3d3d3'%2F%3E%3Cpath%20d%3D'M26%2070l45.5-45.5'%20class%3D'cls-1'%2F%3E%3Cpath%20fill%3D'%23d3d3d3'%20d%3D'M36.88%2052.77a16.52%2016.52%200%200%201%201.63-1.4l4.57-4.58a.5.5%200%200%200-.49-.84%2018.54%2018.54%200%200%200-7.83%204.7%201.5%201.5%200%200%200%202.12%202.12zM48.91%2045.21l-3.12%203.12a16.19%2016.19%200%200%201%202.21-.17%2015.63%2015.63%200%200%201%2011.12%204.61%201.49%201.49%200%200%200%201.06.44%201.53%201.53%200%200%200%201.06-.44%201.51%201.51%200%200%200%200-2.12%2018.56%2018.56%200%200%200-12.33-5.44zM31.09%2047A23.78%2023.78%200%200%201%2048%2040c.46%200%20.92%200%201.38.05a1%201%200%200%200%20.77-.29l.92-.92a1%201%200%200%200-.62-1.71A26.85%2026.85%200%200%200%2029%2044.85%201.5%201.5%200%200%200%2031.09%2047zM55.94%2038.18l-2.43%202.43A23.87%2023.87%200%200%201%2064.91%2047a1.45%201.45%200%200%200%201.06.44A1.47%201.47%200%200%200%2067%2047a1.49%201.49%200%200%200%200-2.12%2026.86%2026.86%200%200%200-11.06-6.7zM25.1%2041a32.42%2032.42%200%200%201%2031.43-8.34%201%201%200%200%200%201-.25l.82-.82a1%201%200%200%200-.44-1.67%2035.42%2035.42%200%200%200-34.89%209A1.51%201.51%200%200%200%2023%2041a1.49%201.49%200%200%200%202.1%200zM73%2038.86a35.56%2035.56%200%200%200-10.5-7.26l-2.28%202.29A32.19%2032.19%200%200%201%2070.9%2041a1.45%201.45%200%200%200%201.06.44A1.47%201.47%200%200%200%2073%2041a1.51%201.51%200%200%200%200-2.14z'%2F%3E%3C%2Fsvg%3E%0A"
      /><img
        id="robot"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20id%3D'Capa_1'%20width%3D'100'%20height%3D'100'%20viewBox%3D'0%200%20463%20463'%3E%3Cdefs%3E%3Cstyle%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpath%20d%3D'M455.5%20116H375v-8.5c0-4.142-3.357-7.5-7.5-7.5s-7.5%203.358-7.5%207.5v8.5h-80.5c-4.143%200-7.5%203.358-7.5%207.5s3.357%207.5%207.5%207.5H344v17.025c-.166-.011-.331-.025-.5-.025h-224c-.169%200-.334.014-.5.025V131h64.5c4.143%200%207.5-3.358%207.5-7.5s-3.357-7.5-7.5-7.5H103v-8.5c0-4.142-3.357-7.5-7.5-7.5s-7.5%203.358-7.5%207.5v8.5H7.5c-4.143%200-7.5%203.358-7.5%207.5s3.357%207.5%207.5%207.5H72v24.5c0%2010.336%206.71%2019.128%2016%2022.266v9.734c0%204.142%203.357%207.5%207.5%207.5s7.5-3.358%207.5-7.5v-9.734c6.997-2.364%2012.527-7.934%2014.831-14.958.537.122%201.094.193%201.669.193h41.984l2.075%209.337c-8.8%201.493-15.95%207.889-18.526%2016.273-18.082%203.292-37.13%2019.703-40.495%2040.443C94.968%20232.027%2088%20240.965%2088%20251.5c0%2010.336%206.71%2019.128%2016%2022.266v19.469c-9.29%203.138-16%2011.93-16%2022.266v6.23l-7.208%2014.416c-.521%201.041-.792%202.188-.792%203.353v16c0%204.142%203.357%207.5%207.5%207.5s7.5-3.358%207.5-7.5v-14.229L100.135%20331h22.73L128%20341.271V355.5c0%204.142%203.357%207.5%207.5%207.5s7.5-3.358%207.5-7.5v-16c0-1.165-.271-2.313-.792-3.354L135%20321.73v-6.23c0-10.336-6.71-19.128-16-22.266v-19.469c9.29-3.138%2016-11.93%2016-22.266%200-10.061-6.357-18.662-15.264-22.007%202.982-12.358%2014.623-22.769%2025.789-25.677C148.891%20212.681%20157.469%20219%20167.5%20219h6.575c1.219%203.652%203.262%206.855%205.903%209.415l-13.096%2013.096c-4.438%204.438-6.883%2010.34-6.883%2016.617V268h-8.5c-4.143%200-7.5%203.358-7.5%207.5s3.357%207.5%207.5%207.5h32c4.143%200%207.5-3.358%207.5-7.5s-3.357-7.5-7.5-7.5H175v-9.873c0-2.271.884-4.405%202.49-6.011l17.187-17.187c.549.038%201.099.07%201.657.07h70.33c.558%200%201.109-.033%201.657-.07l17.187%2017.187c1.606%201.605%202.49%203.74%202.49%206.011V268h-8.5c-4.143%200-7.5%203.358-7.5%207.5s3.357%207.5%207.5%207.5h32c4.143%200%207.5-3.358%207.5-7.5s-3.357-7.5-7.5-7.5H303v-9.873c0-6.277-2.444-12.179-6.883-16.617l-13.096-13.096c2.641-2.56%204.684-5.762%205.903-9.415h6.575c10.031%200%2018.609-6.319%2021.975-15.183%2011.166%202.908%2022.807%2013.319%2025.789%2025.677C334.357%20232.838%20328%20241.439%20328%20251.5c0%2010.336%206.71%2019.128%2016%2022.266v19.469c-9.29%203.138-16%2011.93-16%2022.266v6.23l-7.208%2014.416c-.521%201.042-.792%202.189-.792%203.354v16c0%204.142%203.357%207.5%207.5%207.5s7.5-3.358%207.5-7.5v-14.229L340.135%20331h22.73L368%20341.271V355.5c0%204.142%203.357%207.5%207.5%207.5s7.5-3.358%207.5-7.5v-16c0-1.165-.271-2.313-.792-3.354L375%20321.73v-6.23c0-10.336-6.71-19.128-16-22.266v-19.469c9.29-3.138%2016-11.93%2016-22.266%200-10.535-6.968-19.473-16.537-22.447-3.365-20.74-22.413-37.151-40.495-40.443-2.576-8.384-9.727-14.781-18.526-16.273l2.075-9.337H343.5c.574%200%201.132-.071%201.669-.193%202.304%207.024%207.834%2012.595%2014.831%2014.958v9.734c0%204.142%203.357%207.5%207.5%207.5s7.5-3.358%207.5-7.5v-9.734c9.29-3.138%2016-11.93%2016-22.266V131h64.5c4.143%200%207.5-3.358%207.5-7.5s-3.357-7.5-7.5-7.5zm-360%2048c-4.687%200-8.5-3.813-8.5-8.5V131h17v24.5c0%204.687-3.813%208.5-8.5%208.5zM120%20316h-17v-.5c0-4.687%203.813-8.5%208.5-8.5s8.5%203.813%208.5%208.5v.5zm-8.5-56c-4.687%200-8.5-3.813-8.5-8.5s3.813-8.5%208.5-8.5%208.5%203.813%208.5%208.5-3.813%208.5-8.5%208.5zM360%20316h-17v-.5c0-4.687%203.813-8.5%208.5-8.5s8.5%203.813%208.5%208.5v.5zm-8.5-56c-4.687%200-8.5-3.813-8.5-8.5s3.813-8.5%208.5-8.5%208.5%203.813%208.5%208.5-3.813%208.5-8.5%208.5zM159%20195.5c0-4.459%203.454-8.12%207.825-8.466l3.77%2016.966H167.5c-4.687%200-8.5-3.813-8.5-8.5zm145%200c0%204.687-3.813%208.5-8.5%208.5h-3.095l3.77-16.966c4.371.346%207.825%204.007%207.825%208.466zm-29.037%2017.844c-.871%203.919-4.283%206.656-8.298%206.656h-70.33c-4.015%200-7.427-2.737-8.298-6.656L176.849%20163H286.15l-11.187%2050.344zM376%20155.5c0%204.687-3.813%208.5-8.5%208.5s-8.5-3.813-8.5-8.5V131h17v24.5z'%2F%3E%3Cpath%20d%3D'M207.5%20203c4.143%200%207.5-3.358%207.5-7.5v-8c0-4.142-3.357-7.5-7.5-7.5s-7.5%203.358-7.5%207.5v8c0%204.142%203.357%207.5%207.5%207.5zM255.5%20203c4.143%200%207.5-3.358%207.5-7.5v-8c0-4.142-3.357-7.5-7.5-7.5s-7.5%203.358-7.5%207.5v8c0%204.142%203.357%207.5%207.5%207.5z'%2F%3E%3C%2Fsvg%3E%0A"
      /><img
        id="player"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20width%3D'100'%20height%3D'50'%20viewBox%3D'0%200%20512%20255'%3E%3Cpath%20fill%3D'%238aced8'%20d%3D'M377%2087l16-16-24-20a188%20188%200%200%200-243%205l-15%2013%2024%2017zm0%200'%2F%3E%3Cpath%20fill%3D'%2379a73a'%20d%3D'M222%2061V11c-35%206-69%2021-96%2045l-15%2013%2060%2043v51h86V86zm0%200'%2F%3E%3Cpath%20fill%3D'%2389b140'%20d%3D'M257%2086h137l-43%2026v51h-94zm0%200'%2F%3E%3Cpath%20fill%3D'%23aac16b'%20d%3D'M497%20124a94%2094%200%200%200-180%2039h169a17%2017%200%200%200%2017-21l-6-18zm0%200'%2F%3E%3Cpath%20fill%3D'%2364a8b2'%20d%3D'M377%20163a43%2043%200%200%201%2086%200v9h-86zm0%200'%2F%3E%3Cpath%20fill%3D'%23787d82'%20d%3D'M377%20163h86v35h-86zm0%200'%2F%3E%3Cpath%20fill%3D'%23aac16b'%20d%3D'M164%2092A94%2094%200%200%200%209%20154a9%209%200%200%200%208%209h180c0-27-12-53-33-71zm0%200'%2F%3E%3Cpath%20fill%3D'%2364a8b2'%20d%3D'M42%20163a43%2043%200%201%201%2086%200v9H42zm0%200'%2F%3E%3Cpath%20fill%3D'%23787d82'%20d%3D'M42%20163h86v35H42zm0%200'%2F%3E%3Cpath%20d%3D'M511%20140c-1-7-4-13-6-19-20-42-64-66-109-59l-22-18c-75-60-181-58-253%205l-14%2012c-7-1-15%200-22%201l-5-13h5a9%209%200%200%200%201-17l-41-6a9%209%200%200%200-2%2017l18%203%207%2020a103%20103%200%200%200-68%2087%2017%2017%200%200%200%2017%2019h17v34h103v-34h231v34h103v-34h15c8%200%2016-4%2020-10%205-6%207-14%205-22zM250%2018c41%200%2081%2014%20113%2039l12%2010c-7%203-14%206-21%2011h-94l-29-22V19l19-1zm15%2077h69c-15%2017-24%2038-25%2060h-44zm-145%2094H51v-17h69zm-2-34H52a34%2034%200%200%201%2066-2v2zm18%200l-2-7a51%2051%200%200%200-100%207H17a86%2086%200%200%201%20142-56c16%2014%2027%2034%2029%2056zm34-69c-12-10-26-18-41-22l3-2c23-20%2051-34%2082-40v43l34%2026v64h-43c-3-27-15-51-35-69zm284%20103h-69v-17h69zm-1-34h-66a34%2034%200%200%201%2065-2l1%202zm40-3c-2%202-4%203-7%203h-16a51%2051%200%200%200-66-41c-18%206-32%2022-35%2041h-43a86%2086%200%200%201%20169-11c0%203%200%206-2%208zm0%200'%2F%3E%3Cpath%20d%3D'M180%2052h17v17h-17zm0%200M282%20112h18v17h-18zm0%200'%2F%3E%3C%2Fsvg%3E%0A"
      /><img
        id="pattern-obstacle"
        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAMAAAC6sdbXAAAACVBMVEUWFhYbGxsiIiJSQVJ8AAAAHklEQVR42jXIsQ0AAAyDMMj/R5elC7IAFVYWA+XXAQFxABhTnMuuAAAAAElFTkSuQmCC"
      />
    </div>
    <div id="hud">
      <div class="hud-group" id="hudStats">
        <div class="hud-component" id="powerups-container">
          <img
            id="wifi"
            src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20id%3D'Layer_1'%20data-name%3D'Layer%201'%20width%3D'96'%20height%3D'96'%20viewBox%3D'0%200%2096%2096'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23d3d3d3%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A3px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ccircle%20cx%3D'48'%20cy%3D'48'%20r%3D'40'%20class%3D'cls-1'%2F%3E%3Cpath%20d%3D'M24%2039.92a33.89%2033.89%200%200%201%2047.92%200M30%2045.91a25.42%2025.42%200%200%201%2035.94%200M35.82%2051.71a17.22%2017.22%200%200%201%2024.36%200M42%2057.89a8.47%208.47%200%200%201%2012%200'%20class%3D'cls-1'%2F%3E%3Ccircle%20cx%3D'48'%20cy%3D'64.38'%20r%3D'2.62'%20fill%3D'%23d3d3d3'%2F%3E%3C%2Fsvg%3E%0A"
          />
          <div id="collected-powerups">2/10</div>
        </div>
        <div class="hud-component" id="lives">Lives: 3</div>
      </div>
      <div class="hud-group" id="currentLevel">Level: 4</div>
      <div class="hud-group">
        <div class="hud-component" id="battery">
          <div class="battery-icon">
            <img
              id="battery"
              src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20width%3D'471.829'%20height%3D'471.829'%20class%3D'img'%3E%3Cpath%20fill%3D'%23d3d3d3'%20stroke%3D'%23d3d3d3'%20d%3D'M264.161%20313.448h37.625l-79.061%2065.449-54.565-65.449h37.922l21.978-64.429h-46.515l46.284-128.868h52.633l-30.178%2087.117h49.236l-35.359%20106.18zm95.76-245.396v362.946c0%2022.51-18.308%2040.83-40.832%2040.83H152.737c-22.522%200-40.829-18.32-40.829-40.83V68.052c0-22.514%2018.312-40.832%2040.829-40.832h34.607V0h95.27v27.221h36.475c22.524%200%2040.832%2018.317%2040.832%2040.831zm-27.216%200c0-7.501-6.108-13.611-13.62-13.611H152.737c-7.508%200-13.615%206.109-13.615%2013.611v362.946c0%207.499%206.107%2013.611%2013.615%2013.611h166.352c7.508%200%2013.616-6.106%2013.616-13.611V68.052z'%2F%3E%3C%2Fsvg%3E%0A"
            />
          </div>
          <div class="battery-bar" id="batteryBar">
            <div id="batteryBarInner"></div>
          </div>
          <div class="battery-percent" id="batteryPercent"></div>
        </div>
      </div>
    </div>
    <div id="gameStage"></div>
    <div id="startScreen" class="screen-state">
      <div class="dope-logo">
        <img
          id="wifi"
          src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20id%3D'Layer_1'%20data-name%3D'Layer%201'%20width%3D'96'%20height%3D'96'%20viewBox%3D'0%200%2096%2096'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23d3d3d3%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A3px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ccircle%20cx%3D'48'%20cy%3D'48'%20r%3D'40'%20class%3D'cls-1'%2F%3E%3Cpath%20d%3D'M24%2039.92a33.89%2033.89%200%200%201%2047.92%200M30%2045.91a25.42%2025.42%200%200%201%2035.94%200M35.82%2051.71a17.22%2017.22%200%200%201%2024.36%200M42%2057.89a8.47%208.47%200%200%201%2012%200'%20class%3D'cls-1'%2F%3E%3Ccircle%20cx%3D'48'%20cy%3D'64.38'%20r%3D'2.62'%20fill%3D'%23d3d3d3'%2F%3E%3C%2Fsvg%3E%0A"
        />
        <p>WHERE'S THE INTERNET?</p>
      </div>
      <div class="screen-content">
        <p>Oh noes! Someone tooks the internets!</p>
        <p>Get it back plz!</p>
      </div>
      <div id="playBtn" class="screen-game-cta">PLAY!</div>
      <div class="controls-tut">
        < > Arrows to move, space bar or ^ up arrow to jump.
      </div>
      <div class="controls-tut">Collect wifi for additional bonuses!</div>
    </div>
    <div id="retryScreen" class="screen-state">
      <div class="screen-content">
        <p>Well... that sucks...</p>
        <img class="retry-icon" src="assets/nowifi.svg" />
      </div>
      <div class="cta-container">
        <div id="retryBtn" class="screen-game-cta">Try again?</div>
        <div id="exitBtn" class="screen-game-cta negative">Forget that</div>
      </div>
    </div>
    <div id="completeScreen" class="screen-state">
      <div class="big-win">YOU DID IT!</div>
      <img
        id="wifi"
        src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20id%3D'Layer_1'%20data-name%3D'Layer%201'%20width%3D'96'%20height%3D'96'%20viewBox%3D'0%200%2096%2096'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23d3d3d3%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A3px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ccircle%20cx%3D'48'%20cy%3D'48'%20r%3D'40'%20class%3D'cls-1'%2F%3E%3Cpath%20d%3D'M24%2039.92a33.89%2033.89%200%200%201%2047.92%200M30%2045.91a25.42%2025.42%200%200%201%2035.94%200M35.82%2051.71a17.22%2017.22%200%200%201%2024.36%200M42%2057.89a8.47%208.47%200%200%201%2012%200'%20class%3D'cls-1'%2F%3E%3Ccircle%20cx%3D'48'%20cy%3D'64.38'%20r%3D'2.62'%20fill%3D'%23d3d3d3'%2F%3E%3C%2Fsvg%3E%0A"
      />
      <div class="subhead">You restored the internet!</div>
      <div class="subhead">Now go outside or something...</div>
    </div>
    <script>
      !(function (t) {
        var e = {};
        function n(i) {
          if (e[i]) return e[i].exports;
          var r = (e[i] = { i: i, l: !1, exports: {} });
          return t[i].call(r.exports, r, r.exports, n), (r.l = !0), r.exports;
        }
        (n.m = t),
          (n.c = e),
          (n.d = function (t, e, i) {
            n.o(t, e) ||
              Object.defineProperty(t, e, { enumerable: !0, get: i });
          }),
          (n.r = function (t) {
            "undefined" != typeof Symbol &&
              Symbol.toStringTag &&
              Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
              Object.defineProperty(t, "__esModule", { value: !0 });
          }),
          (n.t = function (t, e) {
            if ((1 & e && (t = n(t)), 8 & e)) return t;
            if (4 & e && "object" == typeof t && t && t.__esModule) return t;
            var i = Object.create(null);
            if (
              (n.r(i),
              Object.defineProperty(i, "default", { enumerable: !0, value: t }),
              2 & e && "string" != typeof t)
            )
              for (var r in t)
                n.d(
                  i,
                  r,
                  function (e) {
                    return t[e];
                  }.bind(null, r)
                );
            return i;
          }),
          (n.n = function (t) {
            var e =
              t && t.__esModule
                ? function () {
                    return t.default;
                  }
                : function () {
                    return t;
                  };
            return n.d(e, "a", e), e;
          }),
          (n.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e);
          }),
          (n.p = ""),
          n((n.s = 2));
      })([
        function (t, e, n) {
          "use strict";
          (function (t) {
            function i(e, n) {
              var i = document.querySelector(e);
              if (!i)
                throw new Error(
                  "Selector ".concat(e, " doesn't return an element.")
                );
              var r = i.getBoundingClientRect(),
                a = (function (e, n) {
                  var i = document.createElement("canvas"),
                    r = i.getContext("2d"),
                    a = t.devicePixelRatio || 1;
                  return (
                    (i.width = e * a),
                    (i.height = n * a),
                    (i.style.width = "".concat(e, "px")),
                    (i.style.height = "".concat(n, "px")),
                    (r._spriteSize = Math.ceil(0.023 * i.height)),
                    (r.dpr = a),
                    r
                  );
                })(r.width, r.height);
              return i.appendChild(a.canvas), a;
            }
            n.d(e, "a", function () {
              return i;
            });
          }).call(this, n(1));
        },
        function (t, e) {
          var n;
          n = (function () {
            return this;
          })();
          try {
            n = n || Function("return this")() || (0, eval)("this");
          } catch (t) {
            "object" == typeof window && (n = window);
          }
          t.exports = n;
        },
        function (t, e, n) {
          "use strict";
          n.r(e);
          var i = n(0);
          var r = (function () {
            var t = { jump: [38, 32, 87], right: [39, 68], left: [37, 65] },
              e = { jump: !1, right: !1, left: !1 },
              n = function (n, i) {
                Object.keys(e).forEach(function (r) {
                  t[r].indexOf(n) > -1 && (e[r] = i);
                });
              };
            return (
              document.body.addEventListener("keydown", function (t) {
                return n(t.keyCode, !0);
              }),
              document.body.addEventListener("keyup", function (t) {
                return n(t.keyCode, !1);
              }),
              e
            );
          })();
          var a = {
              LEVEL_FAIL: "LEVEL_FAIL",
              LEVEL_COMPLETED: "LEVEL_COMPLETED",
              GAME_OVER: "GAME_OVER",
              GAME_WIN: "GAME_WIN",
              GAME_STATE_PAUSE: "GAME_STATE_PAUSE",
              GAME_STATE_PLAY: "GAME_STATE_PLAY",
              BATTERY_UPGRADE_SML: "BATTERY_UPGRADE_SML",
              BATTERY_UPGRADE_MED: "BATTERY_UPGRADE_MED",
              BATTERY_UPGRADE_LRG: "BATTERY_UPGRADE_LRG",
            },
            o = 10,
            s = { HIGH: "healthy", MEDIUM: "not-so-great", LOW: "critical" };
          function c(t, e) {
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              (i.enumerable = i.enumerable || !1),
                (i.configurable = !0),
                "value" in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i);
            }
          }
          var h = (function () {
            function t(e) {
              var n = e.x,
                i = e.y,
                r = e.width,
                a = e.height,
                o = e.fill,
                s = e.context,
                c = e.asset;
              !(function (t, e) {
                if (!(t instanceof e))
                  throw new TypeError("Cannot call a class as a function");
              })(this, t),
                (this.x = n),
                (this.y = i),
                (this.width = r),
                (this.height = a),
                (this.fill = o),
                (this.context = s),
                (this.img = c);
            }
            return (
              (function (t, e, n) {
                e && c(t.prototype, e), n && c(t, n);
              })(t, [
                {
                  key: "collides",
                  value: function (t) {
                    return (function (t, e) {
                      var n = [
                          t.x + t.width / 2 - (e.x + e.width / 2),
                          t.y + t.height / 2 - (e.y + e.height / 2),
                        ],
                        i = [
                          t.width / 2 + e.width / 2,
                          t.height / 2 + e.height / 2,
                        ];
                      if (Math.abs(n[0]) < i[0] && Math.abs(n[1]) < i[1]) {
                        var r = [i[0] - Math.abs(n[0]), i[1] - Math.abs(n[1])];
                        return r[0] >= r[1]
                          ? n[1] > 0
                            ? ["top", r[1]]
                            : ["bottom", -r[1]]
                          : n[0] > 0
                          ? ["left", r[0]]
                          : ["right", -r[0]];
                      }
                      return [null, null];
                    })(t, this);
                  },
                },
                {
                  key: "inBounds",
                  value: function (t) {
                    var e = t || {
                      x: 0,
                      y: 0,
                      width: this.context.canvas.width,
                      height: this.context.canvas.height,
                    };
                    return !(
                      this.y + this.height < e.y ||
                      this.y > e.y + e.height ||
                      this.x + this.width < e.x ||
                      this.x > e.x + e.width
                    );
                  },
                },
                {
                  key: "draw",
                  value: function () {
                    var t =
                      !(arguments.length > 0 && void 0 !== arguments[0]) ||
                      arguments[0];
                    (!(arguments.length > 1 && void 0 !== arguments[1]) ||
                      arguments[1]) &&
                      (this.x -= this.speed || 1),
                      t &&
                        this.inBounds() &&
                        (this.img
                          ? this.context.drawImage(
                              this.img,
                              this.x,
                              this.y,
                              this.width,
                              this.height
                            )
                          : ((this.context.fillStyle = this.fill),
                            this.context.fillRect(
                              this.x,
                              this.y,
                              this.width,
                              this.height
                            )));
                  },
                },
              ]),
              t
            );
          })();
          var l = function (t, e) {
              return {
                player: {
                  x: 0,
                  y: 0,
                  width: 25,
                  height: 25,
                  speed: 3,
                  hspeed: t.dpr > 1 ? 4 : 3,
                  v: { x: 0, y: 0 },
                  jump: !1,
                  grnd: !1,
                  batteryLife: 1,
                  draw: function (n) {
                    var i = n.left,
                      r = n.right;
                    t.save();
                    var a = this.x;
                    r
                      ? (this.heading = "right")
                      : (i || "left" === this.heading) &&
                        ((this.heading = "left"),
                        t.scale(-1, 1),
                        (a = -(a + this.width))),
                      t.drawImage(e.player, a, this.y, this.width, this.height),
                      t.restore();
                  },
                  getBatteryLife: function () {
                    return (
                      this._lastChecked
                        ? Date.now() - this._lastChecked > 1e4 &&
                          ((this._lastChecked = Date.now()),
                          this.batteryLife > 0.1 &&
                            (function (t) {
                              var e = t.batteryLife - 0.3;
                              !(function n() {
                                if (t.cancelDecay) return (t.cancelDecay = !1);
                                (t.batteryLife -= 0.001),
                                  t.batteryLife > e && requestAnimationFrame(n);
                              })();
                            })(this))
                        : (this._lastChecked = Date.now()),
                      this.batteryLife
                    );
                  },
                  increaseBattery: function (t) {
                    (this.cancelDecay = !0),
                      (this._lastChecked = Date.now()),
                      (this.batteryLife = Math.min(this.batteryLife + t, 1));
                  },
                },
                obstacle: function (n, i, r, a) {
                  var o = t.createPattern(e["pattern-obstacle"], "repeat");
                  return new h({
                    x: n,
                    y: i,
                    width: r,
                    height: a,
                    fill: o,
                    context: t,
                  });
                },
                endSuccess: function (e, n, i, r) {
                  return new h({
                    x: e,
                    y: n,
                    width: i,
                    height: r,
                    fill: "#f00",
                    context: t,
                  });
                },
                deadzone: function (e, n, i, r) {
                  var a = new h({
                    x: e,
                    y: n,
                    width: i,
                    height: r,
                    fill: "#f00",
                    context: t,
                  });
                  return (a.deadzone = !0), a;
                },
                batteryPack: function (n, i, r, a) {
                  var o = e["battery-pickup"],
                    s = new h({
                      x: n,
                      y: i,
                      width: r,
                      height: a,
                      fill: null,
                      context: t,
                      asset: o,
                    });
                  return (s.collected = !1), (s.power = 0.3), s;
                },
                enemy: function (n, i, r, a) {
                  var o = e.robot,
                    s = new h({
                      x: n,
                      y: i,
                      width: r,
                      height: a,
                      fill: null,
                      context: t,
                      asset: o,
                    });
                  return (
                    (s.origin = { x: n, y: i }),
                    (s.speed = 5 * Math.random()),
                    s
                  );
                },
                door: function (n, i, r, a) {
                  var o = e["ethernet-port"];
                  return new h({
                    x: n,
                    y: i,
                    width: r,
                    height: a,
                    fill: null,
                    context: t,
                    asset: o,
                  });
                },
                goal: function (n, i, r, a) {
                  var o = e.ethernet;
                  return new h({
                    x: n,
                    y: i,
                    width: r,
                    height: a,
                    fill: null,
                    context: t,
                    asset: o,
                  });
                },
              };
            },
            u = [
              [
                "                                          %             ",
                " ***  *  ***  *  ***  *  ***  *  ***  *  ***  *  ***  **",
                "                      %        #    %                   ",
                "*  ******  ***  **  *****  ******  ****.   ******  *****",
                "              %                                         ",
                "******  *  **  ***   ***  ***  ***    ***    ***   *****",
                "              %                                         ",
                "*  ***  *  ******  ******  ***    ***     *  ***   *****",
                "      **          **    %              #         %     $",
                "****  *  **  ******  ******  **  **  *******  ******  **",
                "                  #                       %             ",
                " ***  *  ***  *  ***  *  ***  *  ***  *  ***  *  ***  **",
                "                      %             %                   ",
                "*  ******  ***  **  *****  ******  ****.   ******  *****",
                "              %                                         ",
                "******  *  **  ***   ***  ***  *      ***    ***   *****",
                "    #         O                                         ",
                "*  ***  *  ******  ******  ***    ***     *  ***   *****",
                " P                **    %              #         %      ",
                "*********  *******  *************  **************  ****",
              ],
              [
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "********************************************************",
                "                                                        ",
                "           %  #  #     %  *         %   #  O   %   #  * ",
                "             **     *     *       *   *    *            ",
                " P  %     #     %   *  #       %   #    %    #  *  *   $",
                "*******  ********************  ******************  *****",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
                "                                                        ",
              ],
              [
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                        #  %   ",
                "                                                                                        ***    ",
                "                                                                                     %      % $",
                "                                                                O                  ***  %  ****",
                "              ************************************************  **************    %    ***     ",
                "                              %       ###            %         %    %       %       ***        ",
                "                       %    *    %   *****     %         % ****  #              %              ",
                "                  **            *  *%       %    # *******   %   **     **** *******           ",
                "                      %      %         %     #            %        %   %   #  %                ",
                "        #     ****   **** ************   *************   ***************   ***                 ",
                "       ***  *           %     %                                                                ",
                "             #      %                                                                          ",
                "           *** %            %                                                                  ",
                "P     # *      **  %           %                                                               ",
                "    ***           ***      %                                                                   ",
                "   *    *  %   **                                                                              ",
                "    *** %  **                                                                                  ",
                "***     ***                                                                                    ",
              ],
              [
                "                                                                                              %",
                "P                                                                                             %",
                "                                                        %                                     %",
                "***                               **                               ****  O                     ",
                "   **          %                  **                             **    *****                   ",
                "     **                           ** %                         **                   %         %",
                "       **                         **                         **                               %",
                "         **                       **           %           **         %                       %",
                "           **            %        **                     **                  #                %",
                "             **                  %**                   **         ##                     %    %",
                "               **                 **                 **           **                          %",
                "                 **               **      %        **        %      **                %       %",
                "                   **             **             **                   **                      %",
                "                     **       %   **           **                       **                   %%",
                "                       **         **         **           %               ****  **  *****     %",
                "                         **       **%      **                                                 %",
                "                           **     **     **                                                #  %",
                "                             **   **   **                           %                         %",
                "                               **    **                                                   #  $%",
                "                                 ****           %                                        ******",
              ],
              [
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "               *****               %                                                           ",
                "           *          **              %                         %                              ",
                "               %          *************                                                        ",
                "     ***                                    %   #             %                                ",
                " P              %                         ***** **  ***                                        ",
                " ********                    *  *                 *                                            ",
                "        #    %             *    %  * #         *         O   %                                 ",
                "       **   *       ******           *         %  *       $                                    ",
                "               ***                     *          # *                                          ",
                "                                         * # * *  *                                            ",
                "                                           *                                                   ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
              ],
              [
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                           ##               % %                                ",
                "                                           ********                           %                ",
                "                        ******                  %   *                                **     O  ",
                "                                                      *    %                %      *      **** ",
                "                    **             *************************                    **             ",
                "                       **                  %                        **                $     %  ",
                "                         *                     %                 **     %   *  *  *********    ",
                "                        ****           **     %                        ***                     ",
                "              #    **      %   *   ***    **          *  *  *       *                          ",
                "             ****                           *********          ****                            ",
                "P                      ****     %                                                              ",
                "*****   *******    #  *                                                                        ",
                "                 *****                                                                         ",
                "                                                                                               ",
              ],
              [
                "                                                        ",
                "                                                        ",
                "                  ****       ****                       ",
                "           ****                                         ",
                "     ****             **** #             %           %  ",
                "****          ****         ****                         ",
                "       ****           #            O             %      ",
                "            ****     ****          ****                 ",
                "        ****                                       %    ",
                "    ****        ****                     ****        %  ",
                "****                  ***   %                           ",
                "    ****     ****                                      %",
                "         ****   #        ***   %                  %     ",
                "              ****                                    % ",
                "     #   ****       ****                                ",
                "    ****        ****   %                              % ",
                "****        ****                                        ",
                "P        ****                                        %  ",
                "    ****                                         ###%  $",
                "***********                                 ************",
              ],
              [
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                                                                                               ",
                "                         #     %%%          %%     #O#         %%%                             ",
                "           ********     ****                    *********              ***********             ",
                "                     # %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% #%%%%%%% #%%%%%%%%%%%%%%%%%%%%%%%%  ",
                "         ***       ****         ****       *****         ***        ***                        ",
                " P                      %%%%%%%%%%%%%%% #%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% $ %%%%%%%  ",
                " ********************************************************************************  *********** ",
                "                                                                                               ",
                "                                                                                               ",
              ],
            ];
          function d(t) {
            return (
              (function (t) {
                if (Array.isArray(t)) {
                  for (var e = 0, n = new Array(t.length); e < t.length; e++)
                    n[e] = t[e];
                  return n;
                }
              })(t) ||
              (function (t) {
                if (
                  Symbol.iterator in Object(t) ||
                  "[object Arguments]" === Object.prototype.toString.call(t)
                )
                  return Array.from(t);
              })(t) ||
              (function () {
                throw new TypeError(
                  "Invalid attempt to spread non-iterable instance"
                );
              })()
            );
          }
          function f(t, e) {
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              (i.enumerable = i.enumerable || !1),
                (i.configurable = !0),
                "value" in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i);
            }
          }
          var v = (function () {
              function t(e, n, i) {
                !(function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function");
                })(this, t),
                  (this.rects = e),
                  (this.bounds = n),
                  (this.context = i);
              }
              return (
                (function (t, e, n) {
                  e && f(t.prototype, e), n && f(t, n);
                })(
                  t,
                  [
                    {
                      key: "getRectsInBounds",
                      value: function (e, n, i) {
                        var r = this;
                        this.bounds = {
                          x: e - i / 2,
                          y: n - i / 2,
                          width: i,
                          height: i,
                        };
                        var a = this.rects.reduce(function (e, n) {
                          return (
                            n.inBounds(r.bounds) &&
                              e.push(t.Rect(n.x, n.y, n.width, n.height, n)),
                            e
                          );
                        }, []);
                        return (
                          a.push(
                            t.Rect(
                              this.bounds.x,
                              this.bounds.y,
                              this.bounds.width,
                              this.bounds.height
                            )
                          ),
                          a
                        );
                      },
                    },
                    {
                      key: "getVisibilityPolygons",
                      value: function (t, e, n) {
                        var i,
                          r = this,
                          a = this.getRectsInBounds(t, e, n),
                          o = (i = []).concat.apply(
                            i,
                            d(
                              a.map(function (t) {
                                return t.segments;
                              })
                            )
                          ),
                          s = [
                            [t + 10, e],
                            [t - 10, e],
                            [t, e + 10],
                            [t, e - 10],
                            [t, e],
                          ].map(function (t) {
                            return r.getVisibilityPolygon(a, o, t[0], t[1]);
                          });
                        return {
                          polys: s,
                          drawShadow: function () {
                            r.context.save(),
                              (r.context.globalCompositeOperation =
                                "source-over"),
                              (r.context.fillStyle = "rgba(0,0,0,0.8)"),
                              r.context.fillRect(
                                0,
                                0,
                                r.context.canvas.width,
                                r.context.canvas.height
                              ),
                              r.context.beginPath(),
                              r.context.arc(t, e, n / 2, 0, 2 * Math.PI),
                              r.context.closePath(),
                              r.context.clip();
                            var i = n / 3,
                              o = r.context.createRadialGradient(
                                t,
                                e,
                                i,
                                t,
                                e,
                                n / 2
                              );
                            o.addColorStop(0, "rgba(0,0,0,0.8)"),
                              o.addColorStop(1, "rgba(0,0,0,0)"),
                              (r.context.globalCompositeOperation =
                                "destination-out"),
                              (r.context.fillStyle = o),
                              r.context.arc(t, e, n / 2, 0, 2 * Math.PI),
                              r.context.fill(),
                              s.forEach(function (t) {
                                return r.drawPolygon(t);
                              }),
                              (r.context.globalCompositeOperation =
                                "source-over"),
                              a.forEach(function (t) {
                                return t.rect && t.rect.draw(!0, !1);
                              }),
                              r.context.restore();
                          },
                        };
                      },
                    },
                    {
                      key: "getAngles",
                      value: function (t, e, n) {
                        var i = this,
                          r = {},
                          a = [];
                        return (
                          t.forEach(function (t) {
                            t.corners.forEach(function (t) {
                              var o = i.angle(t[0], t[1], e, n);
                              r[o] ||
                                ((r[o] = !0), a.push(o - 1e-5, o, o + 1e-5));
                            });
                          }),
                          a
                        );
                      },
                    },
                    {
                      key: "getClosestIntersections",
                      value: function (t, e, n, i) {
                        var r = this,
                          a = [n, i];
                        return e
                          .reduce(function (e, o) {
                            var s = [a, [n + Math.cos(o), i + Math.sin(o)]],
                              c = t.reduce(function (t, e) {
                                var n = r.getIntersection(s, e);
                                return n && (!t || t.param > n.param) ? n : t;
                              }, null);
                            return c && ((c.angle = o), e.push(c)), e;
                          }, [])
                          .sort(function (t, e) {
                            return t.angle - e.angle;
                          });
                      },
                    },
                    {
                      key: "getVisibilityPolygon",
                      value: function (t, e, n, i) {
                        var r = this.getAngles(t, n, i);
                        return this.getClosestIntersections(e, r, n, i);
                      },
                    },
                    {
                      key: "getIntersection",
                      value: function (t, e) {
                        var n = t[0][0],
                          i = t[0][1],
                          r = t[1][0] - n,
                          a = t[1][1] - i,
                          o = e[0][0],
                          s = e[0][1],
                          c = e[1][0] - o,
                          h = e[1][1] - s,
                          l = Math.sqrt(r * r + a * a),
                          u = Math.sqrt(c * c + h * h);
                        if (r / l == c / u && a / l == h / u) return null;
                        var d = (r * (s - i) + a * (n - o)) / (c * a - h * r),
                          f = (o + c * d - n) / r;
                        return f < 0
                          ? null
                          : d < 0 || d > 1
                          ? null
                          : { point: [n + r * f, i + a * f], param: f };
                      },
                    },
                    {
                      key: "angle",
                      value: function (t, e, n, i) {
                        return Math.atan2(e - i, t - n);
                      },
                    },
                    {
                      key: "drawPolygon",
                      value: function (t) {
                        var e,
                          n = this;
                        this.context.beginPath(),
                          (this.context.strokeStyle = "white"),
                          (this.context.fillStyle = "rgba(0, 0, 0, 0.8)"),
                          (e = this.context).moveTo.apply(e, d(t[0].point)),
                          t.forEach(function (t, e) {
                            var i;
                            return (
                              e && (i = n.context).lineTo.apply(i, d(t.point))
                            );
                          }),
                          this.context.closePath(),
                          this.context.fill();
                      },
                    },
                  ],
                  [
                    {
                      key: "Rect",
                      value: function (t, e, n, i, r) {
                        var a = [
                          [t, e],
                          [t + n, e],
                          [t + n, e + i],
                          [t, e + i],
                        ];
                        return {
                          shape: [t, e, n, i],
                          corners: a,
                          segments: a.map(function (t, e, n) {
                            return [t, n[e + 1] || n[0]];
                          }),
                          rect: r,
                        };
                      },
                    },
                  ]
                ),
                t
              );
            })(),
            y = function (t, e, n) {
              var i,
                r,
                a =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0,
                o = u[a],
                s = l(e, n),
                c = s.player,
                h = s.obstacle,
                d = s.deadzone,
                f = s.batteryPack,
                y = s.enemy,
                g = s.door,
                p = s.goal,
                m = [],
                w = [],
                b = [],
                E = 0,
                x = e._spriteSize,
                L = Math.floor(t.height / o.length);
              o.forEach(function (t, e) {
                var n = e * L,
                  a = 0;
                t.split("").forEach(function (t, e, o) {
                  var s = e * L;
                  if (("*" !== t || !o[e + 1]) && a > 0) {
                    var l = L * a;
                    m.push(h(s - l, n, l, x)), (a = 0);
                  }
                  switch (t) {
                    case "*":
                      a++;
                      break;
                    case "%":
                      w.push(y(s, n, x, x));
                      break;
                    case "#":
                      b.push(f(s, n, x, x)), E++;
                      break;
                    case "$":
                      i = g(s, n, 2 * x, 2 * x);
                      break;
                    case "O":
                      r = p(s, n, 2 * x, 2 * x);
                      break;
                    case "P":
                      (c.x = s), (c.y = n), (c.width = 2 * x), (c.height = x);
                  }
                });
              });
              var _ = {
                x: -5 * L,
                y: t.height + 50,
                width: L * (o[a].length + 20),
                height: 1,
              };
              m.push(d(_.x, _.y, _.width, _.height));
              var A = v.Rect(0, 0, t.width, t.height, !1),
                P = new v(m, A, e);
              return {
                obstacles: m,
                monsters: w,
                powerups: b,
                player: c,
                objective: r,
                end: i,
                totalPowerups: E,
                shadowGenerator: P,
                collectedPowerups: 0,
                distanceTravelled: 0,
              };
            };
          y.levels = u;
          var g = y,
            p = {
              play: function (t) {
                var e =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : 0.1,
                  n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : 440,
                  i = new AudioContext(),
                  r = i.createGain();
                for (var a in t) {
                  var o = i.createOscillator();
                  t[a] &&
                    (o.connect(r),
                    r.connect(i.destination),
                    o.start(a * e),
                    o.frequency.setValueAtTime(
                      n * Math.pow(1.06, 13 - t[a]),
                      a * e
                    ),
                    (o.type = "triangle"),
                    r.gain.setValueAtTime(1, a * e),
                    r.gain.setTargetAtTime(1e-4, a * e + 0.08, 0.005),
                    o.stop(a * e + 0.09));
                }
              },
              jump: function () {
                this.play([25]);
              },
              win: function () {
                var t = this;
                this.harmony.forEach(function (e) {
                  return t.play([25, 20, 15], 0.1, e);
                });
              },
              powerup: function () {
                var t = this;
                this.harmony.forEach(function (e) {
                  return t.play([13, 12, 11, 10], 0.08, e);
                });
              },
              die: function () {
                var t = this;
                this.harmony.forEach(function (e) {
                  return t.play([6, 10, 12, 14], 0.1, e);
                });
              },
              fail: function () {
                var t = this;
                this.harmony.forEach(function (e) {
                  return t.play(
                    [13, 14, 15, , 16, 17, 18, , 19, 20, 21],
                    0.2,
                    e
                  );
                });
              },
              harmony: [440, 200],
            },
            m = { bubbles: !0, cancellable: !0 };
          function w() {
            var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : document,
              e = arguments.length > 1 ? arguments[1] : void 0,
              n =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : m;
            if ("function" == typeof window.CustomEvent)
              t.dispatchEvent(new Event(e));
            else {
              var i = n.bubbles,
                r = n.cancellable,
                a = document.createEvent("CustomEvent");
              a.initEvent(e, i, r), t.dispatchEvent(a);
            }
          }
          function b(t, e) {
            return (
              (function (t) {
                if (Array.isArray(t)) return t;
              })(t) ||
              (function (t, e) {
                var n = [],
                  i = !0,
                  r = !1,
                  a = void 0;
                try {
                  for (
                    var o, s = t[Symbol.iterator]();
                    !(i = (o = s.next()).done) &&
                    (n.push(o.value), !e || n.length !== e);
                    i = !0
                  );
                } catch (t) {
                  (r = !0), (a = t);
                } finally {
                  try {
                    i || null == s.return || s.return();
                  } finally {
                    if (r) throw a;
                  }
                }
                return n;
              })(t, e) ||
              (function () {
                throw new TypeError(
                  "Invalid attempt to destructure non-iterable instance"
                );
              })()
            );
          }
          function E(t, e, n) {
            return (
              e in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          function x(t, e) {
            for (var n = 0; n < e.length; n++) {
              var i = e[n];
              (i.enumerable = i.enumerable || !1),
                (i.configurable = !0),
                "value" in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i);
            }
          }
          var L = (function () {
              function t(e, n, i) {
                !(function (t, e) {
                  if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function");
                })(this, t),
                  (this.assets = i),
                  (this.hud = n),
                  (this.lives = o),
                  (this.views = {
                    battery: {
                      container: document.getElementById("battery"),
                      bar: document.getElementById("batteryBar"),
                      barInner: document.getElementById("batteryBarInner"),
                      percent: document.getElementById("batteryPercent"),
                    },
                    currentLevel: document.getElementById("currentLevel"),
                    lives: document.getElementById("lives"),
                    powerups: document.getElementById("collected-powerups"),
                  }),
                  (this.context = e),
                  (this.canvas = e.canvas),
                  (this.currentLevel = 0),
                  this.canvas.addEventListener(
                    a.LEVEL_COMPLETE,
                    this.levelCompleteHandler.bind(this)
                  ),
                  this.canvas.addEventListener(
                    a.LEVEL_FAIL,
                    this.livesHandler.bind(this)
                  ),
                  this.canvas.addEventListener(
                    a.GAME_STATE_PAUSE,
                    this.stop.bind(this)
                  ),
                  this.canvas.addEventListener(
                    a.GAME_STATE_PLAY,
                    this.start.bind(this)
                  ),
                  (this.friction = 0.8),
                  (this.jumpHeight = this.context._spriteSize / 10),
                  (this.gravity = this.context._spriteSize / 100),
                  this.startLevel();
              }
              return (
                (function (t, e, n) {
                  e && x(t.prototype, e), n && x(t, n);
                })(t, [
                  {
                    key: "startLevel",
                    value: function () {
                      this.game = (function (t) {
                        for (var e = 1; e < arguments.length; e++) {
                          var n = null != arguments[e] ? arguments[e] : {},
                            i = Object.keys(n);
                          "function" == typeof Object.getOwnPropertySymbols &&
                            (i = i.concat(
                              Object.getOwnPropertySymbols(n).filter(function (
                                t
                              ) {
                                return Object.getOwnPropertyDescriptor(n, t)
                                  .enumerable;
                              })
                            )),
                            i.forEach(function (e) {
                              E(t, e, n[e]);
                            });
                        }
                        return t;
                      })(
                        {},
                        g(
                          this.canvas,
                          this.context,
                          this.assets,
                          this.currentLevel
                        )
                      );
                    },
                  },
                  {
                    key: "start",
                    value: function () {
                      (this.run = !0), this.loop();
                    },
                  },
                  {
                    key: "stop",
                    value: function () {
                      this.run = !1;
                    },
                  },
                  {
                    key: "setupHUD",
                    value: function () {
                      this.HUDisSet = !0;
                      var t = this.views.battery,
                        e = t.container,
                        n = t.bar,
                        i = e.getBoundingClientRect().width;
                      n.style.width = "".concat(i, "px");
                    },
                  },
                  {
                    key: "setBatteryState",
                    value: function (t) {
                      var e = this.views.battery.barInner;
                      e.classList.contains(t) ||
                        (Object.keys(s).forEach(function (t) {
                          e.classList.remove(s[t]);
                        }),
                        e.classList.add(t));
                    },
                  },
                  {
                    key: "livesHandler",
                    value: function () {
                      this.canvas.removeEventListener(
                        a.LEVEL_FAIL,
                        this.livesHandler
                      ),
                        this.lives--,
                        -1 === this.lives
                          ? w(this.canvas, a.GAME_OVER)
                          : (p.die(), this.startLevel());
                    },
                  },
                  {
                    key: "levelCompleteHandler",
                    value: function () {
                      this.currentLevel++,
                        this.currentLevel === g.levels.length
                          ? w(this.canvas, a.GAME_WIN)
                          : this.startLevel();
                    },
                  },
                  {
                    key: "updateHUD",
                    value: function () {
                      this.HUDisSet || this.setupHUD();
                      var t = this.views,
                        e = t.battery,
                        n = t.currentLevel,
                        i = t.lives,
                        r = t.powerups;
                      (n.innerHTML = "Level: ".concat(this.currentLevel + 1)),
                        (i.innerHTML = "Lives: ".concat(this.lives)),
                        (r.textContent = ""
                          .concat(this.game.collectedPowerups, "/")
                          .concat(this.game.totalPowerups));
                      var a = (100 * this.game.player.getBatteryLife()).toFixed(
                        1
                      );
                      (e.percent.textContent = "".concat(a, "%")),
                        (e.barInner.style.width = "".concat(a, "%")),
                        a >= 50
                          ? (this.setBatteryState(s.HIGH),
                            e.barInner.classList.add("healthy"))
                          : a < 50 && a > 25
                          ? this.setBatteryState(s.MEDIUM)
                          : a <= 25 && this.setBatteryState(s.LOW),
                        (n.textContent = "Level: ".concat(
                          this.currentLevel + 1
                        ));
                    },
                  },
                  {
                    key: "loop",
                    value: function () {
                      var t = this;
                      if (!1 !== this.run) {
                        var e = this.game,
                          n = e.player,
                          i = e.obstacles,
                          o = e.powerups,
                          s = (e.monsters, e.shadowGenerator);
                        this.updateHUD(),
                          this.context.clearRect(
                            0,
                            0,
                            this.canvas.width,
                            this.canvas.height
                          ),
                          r.jump &&
                            !n.jump &&
                            n.grnd &&
                            ((n.jump = !0),
                            (n.grnd = !1),
                            (n.v.y = -n.speed * this.jumpHeight),
                            p.jump()),
                          r.right && n.v.x < n.hspeed && (n.v.x += 1),
                          r.left && n.v.x > -n.hspeed && (n.v.x -= 2),
                          (n.v.x *= this.friction),
                          (n.v.y += this.gravity),
                          (n.grnd = !1),
                          i.forEach(function (e) {
                            var i = b(e.collides(n), 2),
                              r = i[0],
                              o = i[1];
                            "left" === r || "right" === r
                              ? ((n.v.x = 0), (n.jump = !1), (n.x += o))
                              : "bottom" === r
                              ? ((n.grnd = !0), (n.jump = !1), (n.y += o))
                              : "top" === r && ((n.v.y *= -1), (n.y += o)),
                              e.draw(),
                              null !== r &&
                                e.deadzone &&
                                w(t.canvas, a.LEVEL_FAIL);
                          });
                        var c = 600 * n.getBatteryLife();
                        s
                          .getVisibilityPolygons(
                            n.x + n.width / 2,
                            n.y + n.height / 2,
                            c
                          )
                          .drawShadow(),
                          n.grnd && (n.v.y = 0),
                          (n.x += n.v.x),
                          (n.y += n.v.y),
                          n.draw(r),
                          o.forEach(function (e) {
                            !1 === e.collected &&
                              (e.collides(n)[0]
                                ? (n.increaseBattery(e.power),
                                  (e.collected = !0),
                                  t.game.collectedPowerups++,
                                  t.game.collectedPowerups ===
                                    t.game.totalPowerups && t.lives++,
                                  p.powerup())
                                : e.draw());
                          }),
                          this.game.monsters.forEach(function (e) {
                            b(e.collides(n), 1)[0] && w(t.canvas, a.LEVEL_FAIL);
                            var i = e.origin.x - t.game.distanceTravelled;
                            e.x < 0 && i > t.canvas.width
                              ? (e.x = i)
                              : e.draw();
                          }),
                          this.game.objective &&
                            (!n.hasObjective &&
                            this.game.objective.collides(n)[0]
                              ? ((n.hasObjective = !0), p.win())
                              : n.hasObjective || this.game.objective.draw()),
                          this.game.end.collides(n)[0]
                            ? n.hasObjective &&
                              ((n.hasObjective = !1),
                              p.win(),
                              w(this.canvas, a.LEVEL_COMPLETE))
                            : this.game.end.draw(),
                          this.game.distanceTravelled++,
                          requestAnimationFrame(this.loop.bind(this));
                      }
                    },
                  },
                ]),
                t
              );
            })(),
            _ = "skipstart=t",
            A = {
              start: function () {
                (this.context = Object(i.a)("#gameStage")),
                  (this.canvas = this.context.canvas);
                var t = document.getElementById("hud"),
                  e = this.getAssets();
                (this.engine = new L(this.context, t, e)),
                  (this._gameFailScreen = this.gameFailScreen.bind(this)),
                  (this._gameWinScreen = this.gameWinScreen.bind(this)),
                  this.canvas.addEventListener(
                    a.GAME_OVER,
                    this._gameFailScreen
                  ),
                  this.canvas.addEventListener(a.GAME_WIN, this._gameWinScreen),
                  this.engine.start();
              },
              getAssets: function () {
                return [
                  "battery-pickup",
                  "ethernet-port",
                  "ethernet",
                  "nowifi",
                  "robot",
                  "player",
                  "pattern-obstacle",
                ].reduce(function (t, e) {
                  return (t[e] = document.getElementById(e)), t;
                }, {});
              },
              gameFailScreen: function () {
                this.canvas.removeEventListener(
                  a.GAME_OVER,
                  this._gameFailScreen
                ),
                  p.fail(),
                  this.engine.stop(),
                  P();
                var t = document.getElementById("retryBtn"),
                  e = document.getElementById("exitBtn");
                t.addEventListener("click", function () {
                  S()
                    ? window.location.reload()
                    : (window.location.href += "?".concat(_));
                }),
                  e.addEventListener("click", function () {
                    window.location.href = ""
                      .concat(window.location.origin)
                      .concat(window.location.pathname);
                  }),
                  document
                    .getElementById("retryScreen")
                    .classList.add("is-active");
              },
              gameWinScreen: function () {
                this.engine.stop(),
                  p.win(),
                  P(),
                  document
                    .getElementById("completeScreen")
                    .classList.add("is-active");
              },
            };
          function P() {
            var t = document.querySelector(".screen-state.is-active");
            t && t.classList.remove("is-active");
          }
          function S() {
            return window.location.search.includes(_);
          }
          (window.game = A),
            (function () {
              if (S()) return A.start();
              var t = document.getElementById("startScreen");
              t.classList.add("is-active"),
                t
                  .querySelector("#playBtn")
                  .addEventListener("click", function () {
                    P(), A.start();
                  });
            })();
        },
      ]);
    </script>
  </body>
</html>
