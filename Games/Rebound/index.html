<!DOCTYPE html><meta charset="utf-8"><title>rebound</title><style>body,html{height:100%}body{background-color:#000;margin:0;padding:0;display:flex;align-items:center;justify-content:center}#game{width:512px;height:512px;image-rendering:-moz-crisp-edges;image-rendering:-webkit-crisp-edges;image-rendering:pixelated;image-rendering:crisp-edges;border:1px solid #243335;border-radius:4px;padding:16px}img{display:none}</style><body> <img id="font" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABVCAMAAAC2ExxlAAAAG1BMVEX//////wD/AP//AAAA//8A/wAAAP8AAAD////mn/9eAAAACXRSTlP//////////wBTT3gSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA5LTEyVDIzOjM5OjQ0KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOS0xMlQyMzo0Mjo1MiswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wOS0xMlQyMzo0Mjo1MiswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjIiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphNTljYjhiMi0zZDEyLTE3NDItODc1Ny1mMTA3YjBhNzhlYzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YTU5Y2I4YjItM2QxMi0xNzQyLTg3NTctZjEwN2IwYTc4ZWMwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTU5Y2I4YjItM2QxMi0xNzQyLTg3NTctZjEwN2IwYTc4ZWMwIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphNTljYjhiMi0zZDEyLTE3NDItODc1Ny1mMTA3YjBhNzhlYzAiIHN0RXZ0OndoZW49IjIwMTktMDktMTJUMjM6Mzk6NDQrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4W6GbCAAACOklEQVRo3u1YSXLDMAzDkf9/cQ+xJIokRNlxG0/KdhrXEy3gBkKCfPgHBaAAFIACUAAKQAF4DgC0B+Yn7LuZiXj+7tYcAMyGBgC4BXu+BZk/XtuIeSSwduEAPg8EmUhx2oUgsYtTD+BtD8ShcfOQAbwWqeKB3wdgy80nH0lGrLOe2ejnu3SEIQos694SFyUoxPs4AGMgEkv3PABafwwAqy9rKXnf94DLgbOWxu+UoCSOdJXhAwDg00RE+n9KUIyoQPjD6gtbhqCCwwKJv/dlR5hPmMJiyAkTuvYMJu2I1BvPxJU2BAywHc80JfF08cD3AfDdN2lGaTuWzadJVtf/bXPiCyYnJqYjZA1gQ5LF/TJjPGHKKQVg/uNnwNjijD/YkcqFqsrw43rAab6kHctd7ViSMuTdMGnHgr12LAThth7Aph7I+eaiHpB39QAVGFhfVJQe+Lr7gbvbcXa7dls7xslTsvg2TrITuKYHrMXuIELPBbK05Kwe4Fe5McHdrgfSG9bSA0/iAQCQ8du69KtA4OXmK3pox0pycG/zj/X7F8AU/g6g7d4BoWVO/+sLiF7IAhkbHyzTJrQNxwdiDxxvGDQVWaY3GqZ6A7QHOvP58coDHQAaxhESDYCFYnhy4lk1fO0BZ6G/qlwzAsR6SMUkyIEqw+cAMLGxuRAziMp6xSKXAIw8mQmlVYPWCdDlpLrbJQCj+mndHuik16mo+r/fA445bWtFu927xwMuBzTz/mUOVBkWgALwbwH8AKf7LYCvk4yeAAAAAElFTkSuQmCC"> <img id="sprites" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MDE3NUJDNUJCRDFFOTExODJFOEQ4OUZFREExQ0Q2NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5RkI4NUEwNEQ1RTMxMUU5QTVFM0JDMjA3QTJERTIwNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5RkI4NUEwM0Q1RTMxMUU5QTVFM0JDMjA3QTJERTIwNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMjhBNzRDRTNENUU5MTE4OTJCREQzM0Q2OUM2Qjc0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjYwMTc1QkM1QkJEMUU5MTE4MkU4RDg5RkVEQTFDRDY2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+y4XWRgAAAO1QTFRFbYc1AIdR/6MAq1I2RH4miaw3/wBN/8kZfiVTWXg0ISwwKa3///HoS2Yr/+wnAAAAI0k5O2Y9/8yqYFFIPXongp9WP3okmbo7SYgoq8JBAOQ2krk7S2YsSjkvSG0jHStTwsPH/3eoQWdUxcGylI54oZ+UVUY9kpRyP3gcoW9Vt1YjcUElW3wyR2okp6l8RFgtg3acTjot1KuQX1dPtLaIn1Ajx5Boqlw2uM9Gi684M6Qzpcc//9SytXBFiYpvRIIneps3Gk4p8czDI1wytj1Bo1s2YoUxXoQwS38oOz4orXdbmbc8XoMvWYMu////1cuIwwAAAE90Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////AD1WsLMAAAW+SURBVHja7JgJe9pGEIa3CKSVQBKHjTHEBopx4it1nMR2k7RJ26R39///nM7uzl4gEMgceZ5okBgtCObdb2ZHAlJH89G+W9HSdDik1IzZmpaC8XhkbwD1eupXKmsCNBr60PNevx6NzAubB+hnhOe2KYDcFLzTFA07voroA36S9PtFAXgsDpGTAk7RSETQtozfRoYnA4D8PA3LANSXy/jcGkaFev32djxut7cJ8M4GaaMpgicDqBQkSRIEgcekDzzuE49/ZVKpgE8SyhgcCY/vw+lZ5rECRiAMGABU5AGORXzukwoCBBxAv58RkHpeMQAMwD0Y9whCK+p14WHeAsAT77OR5wakHjwKAAR8NvCFgZwVM2M644EgwPM4wC0EtONT2ihCQBL8wgQBzJia13VqzJh5dOQNK0lFA0BtUm+TCghPzVgCaAVov98fJpVEAUD8YYMWA4A4LMAaMGMHhKfCBRiBWQqwPreiq4AyXAWUmbE3kwJVnHIc346Go6FViOPheDwuVIQyYIAAZjybAmqPaYzGnmgCgArpVQroghS4nm3ILAUMgD3T+WW5cYD5IsxeBc6YWlfmIpeCLABnGdIFXitwB9eljQHoAHoZinXvVcTrypvz+HjTAKrR0EBdbIIAvVodCkCO7+7utgIgvRDD8s6ylOOZ+8XiAKyNR+28U5feLxcHGPryYFjPPuHzZ7ZVI/MvXV66fucAV5f3/r309ft9ALC3/tufhK9Lv2uAT1fs1yvL7xzgxQu+Gb/7FOzU5gAI2tJPvXyzX4Cfnz9/uV8F9p6CEmAvAG/2DLDBwp8BSFO+gR3wp2bIQjgKxZtNec7hVlOQNsZ8YyzksaPmQSiP4D0YiHNa2wUY+/7YT0W4UMZUgdFH3xeQIMRHrn4kpb7vUwnAouiAP2PgqCkOolbLbcC55XhoE7Rya4DK+CJc1Ix0YDiIpBJuA84vx5aiOMzXD6o9pakOJ1OAgVlHuuma8suYLblr/ZYsw9SEk+pj4PiV/O07WReAx+QUgiRatQ/Erw5Q/QMMrH57n61bgRFSCJLpygBxU6gfsmYcmhNOZxrUvFVrv1sjnbMIKiDK18/qeEL+jlyKnODBQcDvr4mHbcekCq9c2AATXn5TqIApO4zP4nUAeNplHZxmt+hqrQoBtQFNtUaOYa8hGtcSYrbYBCpgwlp5/6EYAJF/OF2vQsauEeRBA8xMl1SPOE+19if5D9Fk7UDwM6iAM16Gh6sBhGL1hdrPauBOVwvAeY7JvwZNtgAIHoP8MS/D1ooKhLD6ZPMS3oS/VgBquiYJnOWPmoOGjSjCThDldSKrBtSyR/9hdhWo6XZhJ25JWGjYiKbYj6Z5ncgGiF0/qwCfX/WoK2drp+DCRsMWMMF+NMnrROSEMdj+Es8ny06U0+2Sbq0rU2B0t9FkC+ALIY7kgljeiUinc/5b57yDW6czfz21U/CjmGfNWQGwW2iyEYGKIbiQq7m8E5FfGDu3NmM3LoFIwREE5c814pSEjaYuHvDRifh4Ticiz5794Gzu7G+Qw1oF3SO5CoTu/wjdbTSmQyq3cid07mekAuo4NKvA9GJLdwvNhIzj2TSu+evY/TgEvFDLrqpWAOpuozkfXYFg2Q+QGzV7fS2QkXQTUrrbaNklvIH/B2RQ3K1VgCWh0da+K1bL3+oBdjs4Xchj6T4gg+oA0dYG4H3Auv9zD1X4hwwAS/feoEd6BX9TYh9YqMAiJeySeIToA/J3QQC19jMUeMDA18tLYtAbkEfYB8UAMqZ9kjt/6xax957Lb5JQGCCzBq6XpwBsIOR/JB9h34oCGPjDIgW49L33Hwek6B8bqyqwOAWDnnOTXBig7VwItH359v4pndNg9wDh/hXgF8JvOQXsa0jB/gHaZQr2AfDla1OgXdZACVAClAAlQAlQApQAJUAJUAKUACVACVAClAAlQAlQApQAJcA3AfC/AAMAV/hVkQRLtPoAAAAASUVORK5CYII="> <canvas id="game" width="128" height="128"></canvas> <script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"wHrd":[function(require,module,exports) {
module.exports={height:16,infinite:!1,layers:[{data:[67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67],height:16,id:6,name:"background",opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{data:[0,0,0,0,0,100,0,0,0,0,0,104,105,106,0,115,0,0,0,0,100,0,87,147,133,0,0,120,121,122,115,0,0,0,0,0,101,102,103,0,0,162,0,136,137,138,0,115,0,0,0,0,100,118,119,0,0,115,0,0,0,0,115,0,101,0,100,101,0,0,0,0,115,116,117,0,0,115,116,117,146,0,0,0,0,0,0,0,147,0,0,146,0,147,0,0,0,0,0,0,0,115,116,117,0,0,0,0,0,0,0,70,115,116,117,0,0,147,0,0,0,0,70,0,115,116,117,0,0,115,116,117,0,0,0,0,0,0,0,0,132,164,115,116,70,147,0,0,0,0,0,0,0,0,146,0,0,147,147,0,100,0,0,0,0,0,71,0,0,146,147,0,0,0,0,0,0,101,0,100,0,0,115,116,117,0,0,0,0,0,0,0,0,0,0,0,100,115,116,117,115,116,117,0,0,0,0,0,0,0,0,0,101,162,104,105,106,115,116,117,133,86,70,0,0,0,0,0,100,164,120,121,122,116,100,132,82,83,82,83,0,0,0,0,0,101,136,137,138,87,132,84,98,99,98,99],height:16,id:7,name:"grass",opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{data:[82,83,82,83,84,0,0,84,84,130,0,0,0,0,0,131,98,99,98,99,0,0,0,0,0,130,0,0,0,0,0,131,82,83,82,83,0,0,0,0,0,130,0,0,0,0,0,131,98,99,98,99,0,0,0,0,0,130,0,0,0,0,0,131,0,84,0,0,0,0,0,0,0,113,114,0,0,0,114,129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,84,101,0,0,0,0,0,0,0,0,0,0,0,0,0,82,83,84,0,0,0,0,0,0,0,0,0,0,0,0,0,98,99,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,84,0,84,0,0,0,0,0,0,0,0,0,0,0,0,0,82,83,82,83,0,0,84,84,84,84,0,0,0,0,0,0,98,99,98,99,0,0,0,0,0,0,0,0,0,0,0,0,82,83,82,83,0,0,0,0,0,0,0,0,0,0,0,0,98,99,98,99,84,84,0,0,0,84,84,0,0,0,0,0],height:16,id:1,name:"tiles",opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{data:[2,2,2,2,2,0,0,2,2,2,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,2,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,2,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,2,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,2,2,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,2,2,2,2,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2],height:16,id:4,name:"collision",opacity:.56,type:"tilelayer",visible:!1,width:16,x:0,y:0}],nextlayerid:8,nextobjectid:4,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.2.4",tileheight:8,tilesets:[{firstgid:1,source:"sprites.tsx"}],tilewidth:8,type:"map",version:1.2,width:16};
},{}],"pBtR":[function(require,module,exports) {


"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../assets/map"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e){return i(t)||o(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}function i(t){if(Array.isArray(t))return t}var a=document.getElementById("font"),c=document.createElement("canvas");c.width=128,c.height=128;var l=c.getContext("2d"),u=128,f=8,d=5,s=1,h=Math.floor(u/f);function v(t){return[Math.floor(t%h)*f,Math.floor(t/h)*f]}function g(t,e,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ffffff";l.clearRect(0,0,128,128),l.globalCompositeOperation="source-over",Array.from(e).forEach(function(t,e){var i=n(v(t.charCodeAt(0)),2),c=i[0],u=i[1];l.drawImage(a,c,u,f,f,r+e*(f-d+s),o,f,f)});var u=(f-d+s)*e.length;l.globalCompositeOperation="source-in",l.fillStyle=i,l.fillRect(r,o,u,8),t.drawImage(c,r,o,u,8,r,o,u,8)}function y(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ffffff",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000",a=0;a<3;a++)for(var c=0;c<3;c++)1==a&&1==c||g(t,e,n+a,r+c,i);g(t,e,n+1,r+1,o)}var w=new Map,m=new Map,p=1,x=2;function M(t){w.set(t.code,{code:t.code,state:p})}function b(t){m.clear(),w.set(t.code,{code:t.code,state:x})}function A(){document.addEventListener("keyup",b),document.addEventListener("keydown",M)}function E(t){var e=w.get(t);return!!e&&e.state&x}function S(t){var e=w.get(t);return!!e&&e.state&p}function C(t){if(m.has("isDownOnce_".concat(t)))return!1;var e=w.get(t);return!!(e&&e&&e.state&p)&&(m.set("isDownOnce_".concat(t),!0),!0)}function I(){w.forEach(function(t,e){t.state&x&&w.delete(e)})}function O(t,e,n,r,o,i){t.beginPath(),t.rect(e,n,r,o),t.fillStyle=i,t.fill()}function D(t,e,n,r,o){o&&(t.fillStyle=o),t.beginPath(),t.arc(e,n,r,0,2*Math.PI),t.fill()}function _(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#FF0000";t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.strokeStyle=r,t.stroke()}var P=function(t,e,n){return(1-n)*t+n*e},R=function(t,e){return t.x*e.x+t.y*e.y},T=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},F=function(t){return Math.sqrt(R(t,t))},L=function(t){return{x:Math.cos(t),y:Math.sin(t)}},k=function(t,e){return{x:t.x*e,y:t.y*e}},q=function(t,e){var n=R(t,e),r=k(e,n);return r=k(r,2),T(t,r)},W=function(t){return t*(Math.PI/180)},B=document.getElementById("sprites"),H=new Map,U=B.width,j=B.height,z=8,N=8,V=Math.floor(U/z),X=Math.floor(j/N);function $(){return{width:U,height:j,tileWidth:z,tileHeight:N,columns:V,rows:X}}function G(t){return[t%V*z,Math.floor(t/V)*N]}function J(t,e,n,r,o){H.set(t,{x:e,y:n,w:r,h:o})}function K(t,e,n,r){var o=H.get(e);o||console.warn("Sprite ".concat(e," is not defined")),t.drawImage(B,o.x,o.y,o.w,o.h,n,r,o.w,o.h)}function Q(t,e,r,o){var i=n(G(e),2),a=i[0],c=i[1];t.drawImage(B,a,c,z,N,r*z,o*N,z,N)}var Y=new Set;function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=0,r=0,o=1/60;Y.add(function(i){for((n+=(i-r)/1e3)>1&&(n=1);n>o;)t(o),n-=o;e(n/o),r=i})}function tt(t){requestAnimationFrame(tt),Y.forEach(function(e){e(t)})}function et(){requestAnimationFrame(tt)}var nt=new Set,rt=0;function ot(){var t=new Map;function e(e){if(!t.has(e))return!1;var n=t.get(e),r=n.value,o=n.created;return rt-o<r}function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.set(e,{value:n,created:rt})}return nt.add(t),{has:e,set:n,hasSet:function(t,r){return!!e(t)||(n(t,r),!1)}}}function it(t){t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.clientWidth,t.canvas.clientHeight)}Z(function(t){rt+=t});var at={width:128,height:128,originx:64,originy:64};function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=W(r);t.resetTransform(),t.translate(at.originx,at.originy),t.rotate(i),t.scale(o,o),t.translate(-at.originx,-at.originy),t.translate(-e,-n)}var lt=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}],ut=$(),ft=16;function dt(t,e,n,r,o){var i=st(),a=Math.floor(t/ut.width*ft),c=Math.floor(e/ut.height*ft),l=ut.tileWidth,u=a+c*i.width,f=i.data[u];if(!f)return null;for(var d=a/ft*ut.width,s=c/ft*ut.height,h=l/2,v=[{x:d+h,y:s},{x:d+l,y:s+h},{x:d+l-h,y:s+l},{x:d,y:s+l-h}],g=-Number.MAX_VALUE,y=0,w={x:n,y:r},m=0;m<4;m++){var p=T(w,v[m]),x=R(p,lt[m]);x>g&&(g=x,y=m)}var M=lt[y];return{code:f,tx:a,ty:c,x:d+l/2,y:s+l/2,velocity:q(o,M)}}function st(){return t.default.layers.find(function(t){return"collision"===t.name})}function ht(e){t.default.layers.forEach(function(t){var n=t.width,r=t.data;if("collision"===t.name){if(!$globalConfig.isDebugDraw)return;e.globalAlpha=.3}else e.globalAlpha=1;r.forEach(function(t,r){0!==t&&Q(e,t-1,r%n,Math.floor(r/n))})})}var vt={print:g,printOutline:y,init:A,isUp:E,isDown:S,isDownOnce:C,clear:I,drawRect:O,drawCircle:D,drawLine:_,lerp:P,vecDot:R,vecSub:T,vecLength:F,vecFromAngle:L,vecMultScalar:k,vecReflect:q,toRadians:W,define:J,draw:K,drawTile:Q,getSize:$,start:et,process:Z,processAll:tt,cooldown:ot,cls:it,camera:ct,map:ht,getCollisionMap:st,getCollider:dt};exports.default=vt;
},{"../assets/map":"wHrd"}],"Hovs":[function(require,module,exports) {
"use strict";function e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(o,!0).forEach(function(e){t(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(o).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=new Map,o={load:function(){},render:function(){},update:function(){}},c=o;function a(e,t){n.set(e,r({},o,{},t))}function i(e){var r=n.get(e);r?(c=r,r.load()):console.warn('Loading "'.concat(e,'" scene failed.'))}function u(){var e;(e=c).update.apply(e,arguments)}function p(){var e;(e=c).render.apply(e,arguments)}var f={add:a,load:i,render:p,update:u};exports.default=f;
},{}],"cA4d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;for(var r=new Set,a=0;a<200;a++)r.add({x:0,y:0,velx:0,vely:0,mass:0,r:0,alive:!1});function e(a,e,t,l){var n=0,o=!0,i=!1,v=void 0;try{for(var y,f=r[Symbol.iterator]();!(o=(y=f.next()).done);o=!0){var d=y.value;if(!d.alive&&(d.x=a,d.y=e,d.velx=2*Math.random()-1,d.vely=2*Math.random()-1,d.mass=.5+2*Math.random(),d.r=.5+Math.random()*t,d.mass=.5+2*Math.random(),d.alive=!0,++n===l))break}}catch(u){i=!0,v=u}finally{try{o||null==f.return||f.return()}finally{if(i)throw v}}}function t(){var a=!0,e=!1,t=void 0;try{for(var l,n=r[Symbol.iterator]();!(a=(l=n.next()).done);a=!0){var o=l.value;o.alive&&(o.x+=o.velx/o.mass,o.y+=o.vely/o.mass,o.r-=.1,o.r<.1&&(o.alive=!1))}}catch(i){e=!0,t=i}finally{try{a||null==n.return||n.return()}finally{if(e)throw t}}}function l(a){a.fillStyle="#FFEC27";var e=!0,t=!1,l=void 0;try{for(var n,o=r[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;i.alive&&(a.beginPath(),a.arc(i.x,i.y,i.r,0,2*Math.PI),a.fill())}}catch(v){t=!0,l=v}finally{try{e||null==o.return||o.return()}finally{if(t)throw l}}}var n={update:t,draw:l,explode:e};exports.default=n;
},{}],"IOtE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("/lib/engine"));function t(e){return e&&e.__esModule?e:{default:e}}var a=new Set,r={range:10,health:30},l=0,f=0;function o(e){var t=e.x,l=e.y,o=e.count,n=e.playerId;a.add({id:f++,x:t,y:l,count:o,playerId:n,offsetY:0,offsetX:0,range:r.range,health:r.health})}function n(){e.default.define("blood",32,24,4,5),e.default.define("cow-red",16,24,8,8),e.default.define("cow-blue",24,24,8,8),e.default.define("soldier-red",0,24,4,5),e.default.define("soldier-blue",8,24,4,5),e.default.define("flag-red",0,32,8,8),e.default.define("flag-blue",8,32,8,8)}function d(e,t){return"".concat(t,"-").concat(0===e?"red":"blue")}var i=0;function u(e){if(i%128==0){var t=!0,r=!1,f=void 0;try{for(var o,n=a[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var d=o.value;0===d.offsetX?d.offsetX=-1:d.offsetX=0}}catch(b){r=!0,f=b}finally{try{t||null==n.return||n.return()}finally{if(r)throw f}}}if(i%12==0){var u=!0,s=!1,y=void 0;try{for(var c,v=a[Symbol.iterator]();!(u=(c=v.next()).done);u=!0){var h=c.value;"fight"===h.state&&(h.cid%2?1===h.offsetY?h.offsetY=0:h.offsetY=1:0===h.offsetY?h.offsetY=-1:h.offsetY=0)}}catch(b){s=!0,y=b}finally{try{u||null==v.return||v.return()}finally{if(s)throw y}}}i++,l+=e}function s(t){var r=!0,l=!1,f=void 0;try{for(var o,n=a[Symbol.iterator]();!(r=(o=n.next()).done);r=!0){var i=o.value,u=i.health/10;"dead"!==i.state&&u>0&&(t.save(),t.globalCompositeOperation="multiply",t.globalAlpha=.03,t.beginPath(),t.arc(i.x,i.y,i.range,0,2*Math.PI,!1),t.fillStyle="black",t.fill(),t.lineWidth=1,t.strokeStyle="black",t.stroke(),t.restore());var s="cow"===i.type?5:3;if(i.type)for(var y=0;y<3;y++){var c=Math.round(Math.cos(2*Math.PI/3*y)*s)+i.x,v=Math.round(Math.sin(2*Math.PI/3*y)*s)+i.y,h=y%2?1:-1;y<u?e.default.draw(t,d(i.playerId,i.type),c-2+i.offsetX*h,v-2+i.offsetY*(y%2+1)*h):e.default.draw(t,"blood",c-2,v-2)}}}catch(b){l=!0,f=b}finally{try{r||null==n.return||n.return()}finally{if(l)throw f}}}var y={draw:s,update:u,add:o,init:n,all:a};exports.default=y;
},{"/lib/engine":"pBtR"}],"O/Nc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={state:{},onProjectileDied:function(e){},canProjectileLaunch:function(e){},onProjectileLaunch:function(e){},onHarvest:function(){},onBaseAttack:function(e,t){},onArmyFight:function(e,t){},onGameOver:function(e){}};exports.default=e;
},{}],"6vAE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("/lib/engine")),t=r(require("./store"));function r(e){return e&&e.__esModule?e:{default:e}}var l=new Set;function i(e){var t=e.x,r=e.y,i=e.velocity,a=void 0===i?{x:0,y:0}:i,o=e.drag,d=void 0===o?.985:o,n=e.idleVelocityMagnitude,u=void 0===n?3.5:n,y=e.playerId,f={x:t,y:r,drag:d,velocity:a,idleVelocityMagnitude:u,playerId:void 0===y?0:y};return l.add(f),f}function a(e){t.default.onProjectileDied(e),l.delete(e)}function o(t){var r=!0,i=!1,o=void 0;try{for(var d,n=l[Symbol.iterator]();!(r=(d=n.next()).done);r=!0){var u=d.value,y=u.x,f=u.y,v=u.velocity,c=u.drag,x=u.idleVelocityMagnitude;if(e.default.vecLength(v)<x)return void a(u);var g={x:v.x*c,y:v.y*c},h=y+g.x*t,s=f+g.y*t,M=e.default.getCollider(h,s,y,f,g);M&&(h=y+(g=M.velocity).x*t,s=f+g.y*t),u.x=h,u.y=s,u.velocity=g}}catch(p){i=!0,o=p}finally{try{r||null==n.return||n.return()}finally{if(i)throw o}}}function d(t){var r=!0,i=!1,a=void 0;try{for(var o,d=l[Symbol.iterator]();!(r=(o=d.next()).done);r=!0){var n=o.value,u=n.x,y=n.y,f=n.velocity;t.fillStyle="#2f6528",e.default.drawCircle(t,Math.round(u)-1,Math.round(y)-1,1),t.fillStyle="#fff",console.log(),e.default.drawCircle(t,Math.round(u)-1,Math.round(y)-1*e.default.vecLength(f)/15,1)}}catch(v){i=!0,a=v}finally{try{r||null==d.return||d.return()}finally{if(i)throw a}}}var n={draw:d,update:o,add:i};exports.default=n;
},{"/lib/engine":"pBtR","./store":"O/Nc"}],"1+aX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("/lib/engine")),t=a(require("./projectile")),r=a(require("./store"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=new Set,f={range:10,baseSprite:"base",shootEndSprite:"shoot-end",baseWidth:10,baseHeight:11,shootEndWidth:4,shootEndHeight:4,maxShootWidth:10,angleSpeed:3,powerSpeed:.025,defaultPower:0,maxLength:25,maxProjectileVelocity:150};function d(e){var t=e.x,r=e.y,a=e.playerId,o=e.targetAngle,n=void 0===o?0:o,l=e.angle,d=void 0===l?0:l,u=e.power,g=void 0===u?1:u,s=e.targetPower,p=void 0===s?1:s;i.add({x:t,y:r,playerId:a,targetAngle:n,angle:d,power:g,targetPower:p,cid:0,offsetY:0,range:f.range})}function u(){e.default.define(f.shootEndSprite,56,19,f.shootEndWidth,f.shootEndWidth),e.default.define(f.baseSprite,56,8,f.baseWidth,f.baseHeight)}function g(a){var o=!0,l=!1,d=void 0;try{for(var u,g=i[Symbol.iterator]();!(o=(u=g.next()).done);o=!0){var s=u.value,p=$globalConfig.playerInput[s.playerId];if(e.default.isDown(p.rotateLeft)&&(s.targetAngle=s.targetAngle||0,s.targetAngle-=f.angleSpeed),e.default.isDown(p.rotateRight)&&(s.targetAngle=s.targetAngle||0,s.targetAngle+=f.angleSpeed),e.default.isDown(p.powerKey)?(s.targetPower=s.targetPower||0,s.targetPower=Math.min(s.targetPower+f.powerSpeed,1)):(s.targetPower=s.targetPower||0,s.targetPower=Math.max(s.targetPower-f.powerSpeed,f.defaultPower)),e.default.isUp(p.powerKey)&&r.default.canProjectileLaunch(s.playerId)){r.default.onProjectileLaunch(s.playerId);var y={x:s.x+f.baseWidth/2,y:s.y+f.baseHeight/2};$globalConfig.shakeOffset=.07+.05*s.targetPower;var c=e.default.toRadians(s.angle),h=e.default.vecFromAngle(c),w=s.targetPower*f.maxProjectileVelocity;t.default.add(n({},y,{velocity:{x:h.x*w,y:h.y*w},playerId:s.playerId}))}}}catch(v){l=!0,d=v}finally{try{o||null==g.return||g.return()}finally{if(l)throw d}}}var s=0;function p(a){if(s%12==0){var o=!0,n=!1,l=void 0;try{for(var d,u=i[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var p=d.value;"fight"===r.default.state.player[p.playerId].state&&(p.offsetY=(p.offsetY+1)%2)}}catch(y){n=!0,l=y}finally{try{o||null==u.return||u.return()}finally{if(n)throw l}}}g(a),e.default.isDownOnce("Digit1")&&(f.defaultPower?f.defaultPower=0:f.defaultPower=1),t.default.update(a),s++}function y(t){var r=!0,a=!1,o=void 0;try{for(var n,l=i[Symbol.iterator]();!(r=(n=l.next()).done);r=!0){var d=n.value;e.default.draw(t,f.baseSprite,d.x,d.y+d.offsetY)}}catch(u){a=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}}function c(t,r,a,o,n,l,i,f){t.save(),t.beginPath(),t.translate(r,a+Math.floor(o/2)),t.rotate(e.default.toRadians(n)),t.moveTo(0,0),t.lineTo(i,0),f&&t.setLineDash(f),t.lineWidth=2,t.strokeStyle=l,t.stroke(),t.restore()}function h(t){var r=!0,a=!1,o=void 0;try{for(var n,l=i[Symbol.iterator]();!(r=(n=l.next()).done);r=!0){var d=n.value,u=d.x,g=d.y,s=d.targetAngle,p=d.angle,y=d.power,h=d.targetPower;u=Math.floor(u+f.baseWidth/2),g=Math.floor(g+f.baseHeight/2),p=p||0,s=s||0,p=e.default.lerp(p,s,.07),y=Math.min(e.default.lerp(y,h,.07),1);var w=f.maxLength*y;c(t,u,g,2,p,"#1f4f4a88",f.maxLength),c(t,u,g,2,p,"#1f4f4aff",w),c(t,u,g,2,p,"#ffff",w,[2,2]),d.angle=p,d.power=y}}catch(v){a=!0,o=v}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}}function w(e){y(e),h(e),t.default.draw(e)}var v={draw:w,update:p,add:d,init:u,all:i};exports.default=v;
},{"/lib/engine":"pBtR","./projectile":"6vAE","./store":"O/Nc"}],"Bj9A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("/lib/engine"));function t(e){return e&&e.__esModule?e:{default:e}}e.default.define("heart",0,40,7,7);var a={health:function(t,a,u,n){e.default.draw(t,"heart",a,u),e.default.printOutline(t,"".concat(n),a+10,u)},cash:function(t,a,u,n){e.default.printOutline(t,"$".concat(n),a,u,"#ffa300")}};exports.default=a;
},{"/lib/engine":"pBtR"}],"j7Xl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shake=o,exports.default=void 0;var e=f(require("/lib/engine")),a=f(require("./fx")),t=f(require("./army")),l=f(require("./base")),d=f(require("./store")),r=f(require("./ui"));function f(e){return e&&e.__esModule?e:{default:e}}var u=1,n=e.default.cooldown();function o(a){var t=8-16*Math.random(),l=8-16*Math.random();t*=$globalConfig.shakeOffset,l*=$globalConfig.shakeOffset,e.default.camera(a,t,l),$globalConfig.shakeOffset*=.96,$globalConfig.shakeOffset<.08&&($globalConfig.shakeOffset=0)}window.$globalConfig=window.$globalConfig||{},$globalConfig.shakeOffset=0;var s={all:[{x:48,y:24,range:8},{x:100,y:12,range:12},{x:60,y:116,range:12}]},i={player:[{cash:100,health:100,fields:0},{cash:100,health:100,fields:0}],winner:0,gameover:!1};function h(){d.default.state=JSON.parse(JSON.stringify(i)),n.set("intro",2),e.default.init(),t.default.init(),l.default.init(),l.default.add({playerId:0,x:110,y:59,angle:90,targetAngle:180,power:1,targetPower:0}),l.default.add({playerId:1,x:4,y:59,angle:-90,targetAngle:0,power:1,targetPower:0})}function y(e){t.default.all.forEach(function(e){e.type="soldier",s.all.forEach(function(a){Math.hypot(e.x-a.x,e.y-a.y)<e.range+a.range&&(e.type="cow")})}),n.hasSet("collisions",.5)||("dead"!==d.default.state.player[0].state&&(d.default.state.player[0].state="idle"),"dead"!==d.default.state.player[1].state&&(d.default.state.player[1].state="idle"),t.default.all.forEach(function(e){"fight"===e.state&&"dead"!==e.state&&(e.state="idle"),t.default.all.forEach(function(a){e.playerId!==a.playerId&&Math.hypot(e.x-a.x,e.y-a.y)<e.range+a.range&&d.default.onArmyFight(e,a)})}),t.default.all.forEach(function(e){l.default.all.forEach(function(a){e.playerId!==a.playerId&&Math.hypot(e.x-(a.x+5),e.y-(a.y+5))<e.range+a.range&&d.default.onBaseAttack(e,a)})}),d.default.state.player[0].fields=0,d.default.state.player[1].fields=0,t.default.all.forEach(function(e){s.all.forEach(function(a){Math.hypot(e.x-a.x,e.y-a.y)<e.range+a.range&&d.default.state.player[e.playerId].fields++})})),n.hasSet("harvest",.5)||d.default.onHarvest(),t.default.update(e),l.default.update(e),a.default.update(),u+=e}function p(f){if(e.default.cls(f),o(f),e.default.map(f),l.default.draw(f),t.default.draw(f),n.has("intro")&&(e.default.draw(f,"title",36,50),e.default.printOutline(f,"compo edition",(128-4*"compo edition".length)/2,70,"white","black")),a.default.draw(f),d.default.state.gameover)if(n.has("gameover")){var u="".concat(0===d.default.state.winner?"red":"blue"," won!");e.default.printOutline(f,u,(128-4*u.length)/2,50,"white","black"),a.default.explode(64,64,5,100),$globalConfig.shakeOffset=.3}else d.default.state.gameover=!1,d.default.state=JSON.parse(JSON.stringify(i)),t.default.all.clear();r.default.health(f,104,1,d.default.state.player[0].health,!0),r.default.cash(f,110,120,d.default.state.player[0].cash,!0),r.default.health(f,1,1,d.default.state.player[1].health),r.default.cash(f,1,120,d.default.state.player[1].cash)}d.default.onProjectileDied=function(e){var a=e.x,l=e.y,d=e.playerId;t.default.add({x:Math.round(a),y:Math.round(l),count:8,playerId:d})},d.default.canProjectileLaunch=function(e){return d.default.state.player[e].cash>=30},d.default.onProjectileLaunch=function(e){d.default.state.player[e].cash-=30},d.default.onHarvest=function(){for(var e=0;e<2;e++)d.default.state.player[e].cash+=d.default.state.player[e].fields+1,d.default.state.player[e].cash>200&&(d.default.state.player[e].cash=200)},d.default.onArmyFight=function(e,a){"dead"!==e.state&&"dead"!==a.state&&(e.state="fight",a.state="fight",e.health-=Math.round(3*Math.random()),a.health-=Math.round(3*Math.random()),e.cid=0,a.cid=1,e.health<=0&&(e.state="dead"),a.health<=0&&(a.state="dead"))},d.default.onBaseAttack=function(e,a){"dead"!==e.state&&"dead"!==d.default.state.player[a.playerId].state&&(d.default.state.player[a.playerId].health-=Math.round(3*Math.random()),e.health-=Math.round(5*Math.random()),d.default.state.player[a.playerId].state="fight",e.state="fight",e.health<=0&&(e.state="dead"),d.default.state.player[a.playerId].health<=0&&(d.default.state.player[a.playerId].state="dead",d.default.state.player[a.playerId].health=0,d.default.onGameOver(e.playerId)))},d.default.onGameOver=function(e){d.default.state.winner=e,d.default.state.gameover=!0,n.set("gameover",3)};var c={load:h,update:y,render:p};exports.default=c;
},{"/lib/engine":"pBtR","./fx":"cA4d","./army":"IOtE","./base":"1+aX","./store":"O/Nc","./ui":"Bj9A"}],"HPsM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=i;var e,t,l,u,a=o(require("/lib/engine")),d=o(require("./scene")),n=o(require("./level"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){console.log("%c %c %c %c REBOUND ","background: #666;","background: #555;","background: #444;","background: #000; color: #fff"),e=document.getElementById("game"),l=e.width,u=e.height,(t=e.getContext("2d")).imageSmoothingEnabled=!1,a.default.init(),a.default.define("title",0,8,56,16),d.default.add("level",n.default),d.default.load("level"),a.default.process(r,f),a.default.start()}function r(e){d.default.update(e),a.default.isDownOnce("Backquote")&&($globalConfig.isDebugDraw=!$globalConfig.isDebugDraw)}function f(){a.default.cls(t),d.default.render(t),a.default.clear()}
},{"/lib/engine":"pBtR","./scene":"Hovs","./level":"j7Xl"}],"H99C":[function(require,module,exports) {
"use strict";var e=require("./game");window.$globalConfig={width:128,height:128,isDebugDraw:!1,isDebugInput:!0,playerInput:{0:{rotateLeft:"ArrowLeft",rotateRight:"ArrowRight",powerKey:"ControlRight"},1:{rotateLeft:"KeyA",rotateRight:"KeyD",powerKey:"KeyQ"}}},window.addEventListener("load",e.init,!1);
},{"./game":"HPsM"}]},{},["H99C"], null)</script> </body>
